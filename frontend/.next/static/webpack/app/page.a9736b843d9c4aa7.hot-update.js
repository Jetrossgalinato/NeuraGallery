"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/page",{

/***/ "(app-pages-browser)/./components/DrawingTools.js":
/*!************************************!*\
  !*** ./components/DrawingTools.js ***!
  \************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ DrawingTools)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! axios */ \"(app-pages-browser)/./node_modules/axios/lib/axios.js\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\nfunction DrawingTools(param) {\n    let { image, onProcessed, onClose } = param;\n    _s();\n    const [processing, setProcessing] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [drawingTool, setDrawingTool] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"line\");\n    const [drawingColor, setDrawingColor] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"#FF0000\");\n    const [drawingThickness, setDrawingThickness] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(2);\n    const [drawingText, setDrawingText] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"Sample Text\");\n    const [isDrawing, setIsDrawing] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [startPoint, setStartPoint] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [currentPoint, setCurrentPoint] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [drawnShapes, setDrawnShapes] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [showModal, setShowModal] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [selectedShapeIndex, setSelectedShapeIndex] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [isMoving, setIsMoving] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isResizing, setIsResizing] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [resizeHandle, setResizeHandle] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null); // tl, tr, bl, br, r (radius)\n    const [moveOffset, setMoveOffset] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        x: 0,\n        y: 0\n    });\n    const canvasRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const imageRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [mode, setMode] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"draw\"); // \"draw\", \"interact\"\n    // Get canvas coordinates relative to image\n    const getCanvasCoordinates = (e)=>{\n        const canvas = canvasRef.current;\n        const rect = canvas.getBoundingClientRect();\n        const scaleX = canvas.width / rect.width;\n        const scaleY = canvas.height / rect.height;\n        return {\n            x: Math.round((e.clientX - rect.left) * scaleX),\n            y: Math.round((e.clientY - rect.top) * scaleY)\n        };\n    };\n    // Check if point is inside a rectangle shape\n    const isPointInRectangle = (point, shape)=>{\n        const minX = Math.min(shape.startX, shape.endX);\n        const maxX = Math.max(shape.startX, shape.endX);\n        const minY = Math.min(shape.startY, shape.endY);\n        const maxY = Math.max(shape.startY, shape.endY);\n        return point.x >= minX && point.x <= maxX && point.y >= minY && point.y <= maxY;\n    };\n    // Check if point is inside a circle shape\n    const isPointInCircle = (point, shape)=>{\n        const radius = Math.sqrt(Math.pow(shape.endX - shape.startX, 2) + Math.pow(shape.endY - shape.startY, 2));\n        const distance = Math.sqrt(Math.pow(point.x - shape.startX, 2) + Math.pow(point.y - shape.startY, 2));\n        return distance <= radius;\n    };\n    // Check if point is near text (using a proximity threshold)\n    const isPointNearText = (point, shape)=>{\n        const textWidth = shape.thickness * 10 * shape.text.length * 0.6;\n        const textHeight = shape.thickness * 10;\n        return point.x >= shape.x && point.x <= shape.x + textWidth && point.y >= shape.y - textHeight && point.y <= shape.y;\n    };\n    // Find shape under point\n    const findShapeAtPoint = (point)=>{\n        // Search in reverse order (top-most shapes first)\n        for(let i = drawnShapes.length - 1; i >= 0; i--){\n            const shape = drawnShapes[i];\n            if (shape.type === \"rectangle\" && isPointInRectangle(point, shape)) {\n                return i;\n            } else if (shape.type === \"circle\" && isPointInCircle(point, shape)) {\n                return i;\n            } else if (shape.type === \"text\" && isPointNearText(point, shape)) {\n                return i;\n            }\n        // Lines are not selectable/movable\n        }\n        return null;\n    };\n    // Handle mouse/touch events for drawing\n    const handleStart = (e)=>{\n        e.preventDefault();\n        const coords = getCanvasCoordinates(e.touches ? e.touches[0] : e);\n        if (drawingTool === \"select\") {\n            // Selection mode\n            const shapeIndex = findShapeAtPoint(coords);\n            if (shapeIndex !== null) {\n                setSelectedShapeIndex(shapeIndex);\n                const shape = drawnShapes[shapeIndex];\n                // Calculate offset for moving\n                if (shape.type === \"text\") {\n                    setMoveOffset({\n                        x: coords.x - shape.x,\n                        y: coords.y - shape.y\n                    });\n                } else if (shape.type === \"rectangle\" || shape.type === \"circle\") {\n                    setMoveOffset({\n                        x: coords.x - shape.startX,\n                        y: coords.y - shape.startY\n                    });\n                }\n                setIsMoving(true);\n            } else {\n                setSelectedShapeIndex(null);\n            }\n            return;\n        }\n        if (drawingTool === \"text\") {\n            // For text, just set position on click\n            const text = prompt(\"Enter text to draw:\", drawingText);\n            if (text) {\n                const newShape = {\n                    type: \"text\",\n                    text: text,\n                    x: coords.x,\n                    y: coords.y,\n                    color: drawingColor,\n                    thickness: drawingThickness\n                };\n                setDrawnShapes((prev)=>[\n                        ...prev,\n                        newShape\n                    ]);\n                drawOnCanvas();\n            }\n            return;\n        }\n        setIsDrawing(true);\n        setStartPoint(coords);\n        setCurrentPoint(coords);\n    };\n    const handleMove = (e)=>{\n        e.preventDefault();\n        const coords = getCanvasCoordinates(e.touches ? e.touches[0] : e);\n        if (drawingTool === \"select\" && isMoving && selectedShapeIndex !== null) {\n            // Moving a selected shape\n            const shape = {\n                ...drawnShapes[selectedShapeIndex]\n            };\n            const newX = coords.x - moveOffset.x;\n            const newY = coords.y - moveOffset.y;\n            if (shape.type === \"text\") {\n                // Update text position\n                shape.x = newX;\n                shape.y = newY;\n            } else if (shape.type === \"rectangle\" || shape.type === \"circle\") {\n                // Calculate how much the shape moved\n                const deltaX = newX - shape.startX;\n                const deltaY = newY - shape.startY;\n                // Update start and end coordinates\n                shape.startX = newX;\n                shape.startY = newY;\n                shape.endX = shape.endX + deltaX;\n                shape.endY = shape.endY + deltaY;\n            }\n            // Update the shape in the shapes array\n            const updatedShapes = [\n                ...drawnShapes\n            ];\n            updatedShapes[selectedShapeIndex] = shape;\n            setDrawnShapes(updatedShapes);\n            drawOnCanvas();\n            return;\n        }\n        if (!isDrawing || drawingTool === \"text\") return;\n        setCurrentPoint(coords);\n        drawOnCanvas();\n    };\n    const handleEnd = (e)=>{\n        e.preventDefault();\n        if (isMoving) {\n            setIsMoving(false);\n            return;\n        }\n        if (!isDrawing) return;\n        setIsDrawing(false);\n        if (startPoint && currentPoint && (startPoint.x !== currentPoint.x || startPoint.y !== currentPoint.y)) {\n            const newShape = {\n                type: drawingTool,\n                startX: startPoint.x,\n                startY: startPoint.y,\n                endX: currentPoint.x,\n                endY: currentPoint.y,\n                color: drawingColor,\n                thickness: drawingThickness\n            };\n            setDrawnShapes((prev)=>[\n                    ...prev,\n                    newShape\n                ]);\n        }\n        setStartPoint(null);\n        setCurrentPoint(null);\n    };\n    // Draw shapes on canvas\n    const drawOnCanvas = ()=>{\n        const canvas = canvasRef.current;\n        if (!canvas) return;\n        const ctx = canvas.getContext(\"2d\");\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\n        // Draw existing shapes\n        drawnShapes.forEach((shape, index)=>{\n            const isSelected = index === selectedShapeIndex;\n            // Set styles based on shape properties\n            ctx.strokeStyle = shape.color;\n            ctx.lineWidth = shape.thickness;\n            ctx.fillStyle = shape.color;\n            // Draw the shape\n            if (shape.type === \"line\") {\n                ctx.beginPath();\n                ctx.moveTo(shape.startX, shape.startY);\n                ctx.lineTo(shape.endX, shape.endY);\n                ctx.stroke();\n            } else if (shape.type === \"rectangle\") {\n                ctx.strokeRect(shape.startX, shape.startY, shape.endX - shape.startX, shape.endY - shape.startY);\n                // Draw selection handles if selected\n                if (isSelected) {\n                    // Draw selection outline\n                    ctx.save();\n                    ctx.strokeStyle = \"#00AAFF\";\n                    ctx.lineWidth = 2;\n                    ctx.setLineDash([\n                        5,\n                        5\n                    ]);\n                    ctx.strokeRect(shape.startX - 5, shape.startY - 5, shape.endX - shape.startX + 10, shape.endY - shape.startY + 10);\n                    ctx.restore();\n                    // Draw move indicator\n                    ctx.save();\n                    ctx.fillStyle = \"#00AAFF\";\n                    ctx.beginPath();\n                    ctx.arc(shape.startX, shape.startY, 6, 0, 2 * Math.PI);\n                    ctx.fill();\n                    ctx.restore();\n                }\n            } else if (shape.type === \"circle\") {\n                const radius = Math.sqrt(Math.pow(shape.endX - shape.startX, 2) + Math.pow(shape.endY - shape.startY, 2));\n                ctx.beginPath();\n                ctx.arc(shape.startX, shape.startY, radius, 0, 2 * Math.PI);\n                ctx.stroke();\n                // Draw selection handles if selected\n                if (isSelected) {\n                    // Draw selection outline\n                    ctx.save();\n                    ctx.strokeStyle = \"#00AAFF\";\n                    ctx.lineWidth = 2;\n                    ctx.setLineDash([\n                        5,\n                        5\n                    ]);\n                    ctx.beginPath();\n                    ctx.arc(shape.startX, shape.startY, radius + 5, 0, 2 * Math.PI);\n                    ctx.stroke();\n                    ctx.restore();\n                    // Draw move indicator\n                    ctx.save();\n                    ctx.fillStyle = \"#00AAFF\";\n                    ctx.beginPath();\n                    ctx.arc(shape.startX, shape.startY, 6, 0, 2 * Math.PI);\n                    ctx.fill();\n                    ctx.restore();\n                }\n            } else if (shape.type === \"text\") {\n                ctx.font = \"\".concat(shape.thickness * 10, \"px Arial\");\n                ctx.fillText(shape.text, shape.x, shape.y);\n                // Draw selection handles if selected\n                if (isSelected) {\n                    const textWidth = shape.thickness * 10 * shape.text.length * 0.6;\n                    const textHeight = shape.thickness * 10;\n                    // Draw selection outline\n                    ctx.save();\n                    ctx.strokeStyle = \"#00AAFF\";\n                    ctx.lineWidth = 2;\n                    ctx.setLineDash([\n                        5,\n                        5\n                    ]);\n                    ctx.strokeRect(shape.x - 5, shape.y - textHeight - 5, textWidth + 10, textHeight + 10);\n                    ctx.restore();\n                    // Draw move indicator\n                    ctx.save();\n                    ctx.fillStyle = \"#00AAFF\";\n                    ctx.beginPath();\n                    ctx.arc(shape.x, shape.y - textHeight / 2, 6, 0, 2 * Math.PI);\n                    ctx.fill();\n                    ctx.restore();\n                }\n            }\n        });\n        // Draw current shape being drawn\n        if (isDrawing && startPoint && currentPoint) {\n            ctx.strokeStyle = drawingColor;\n            ctx.lineWidth = drawingThickness;\n            if (drawingTool === \"line\") {\n                ctx.beginPath();\n                ctx.moveTo(startPoint.x, startPoint.y);\n                ctx.lineTo(currentPoint.x, currentPoint.y);\n                ctx.stroke();\n            } else if (drawingTool === \"rectangle\") {\n                ctx.strokeRect(startPoint.x, startPoint.y, currentPoint.x - startPoint.x, currentPoint.y - startPoint.y);\n            } else if (drawingTool === \"circle\") {\n                const radius = Math.sqrt(Math.pow(currentPoint.x - startPoint.x, 2) + Math.pow(currentPoint.y - startPoint.y, 2));\n                ctx.beginPath();\n                ctx.arc(startPoint.x, startPoint.y, radius, 0, 2 * Math.PI);\n                ctx.stroke();\n            }\n        }\n    };\n    // Setup canvas when image loads\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"DrawingTools.useEffect\": ()=>{\n            const img = imageRef.current;\n            const canvas = canvasRef.current;\n            if (img && canvas) {\n                canvas.width = img.naturalWidth;\n                canvas.height = img.naturalHeight;\n                drawOnCanvas();\n            }\n        }\n    }[\"DrawingTools.useEffect\"], [\n        drawnShapes,\n        isDrawing,\n        startPoint,\n        currentPoint,\n        drawingColor,\n        drawingThickness,\n        selectedShapeIndex,\n        isMoving\n    ]);\n    // Function to open the confirmation modal\n    const showConfirmationModal = ()=>{\n        if (drawnShapes.length === 0) {\n            alert(\"Please draw something first!\");\n            return;\n        }\n        setShowModal(true);\n    };\n    // Function to handle the actual drawing application\n    const handleApplyDrawing = async function() {\n        let createCopy = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : true;\n        setProcessing(true);\n        try {\n            // Get a fresh token\n            const token = localStorage.getItem(\"token\");\n            // If token is not found, alert user\n            if (!token) {\n                alert(\"Authentication token not found. Please log in again.\");\n                if (onClose) onClose();\n                return;\n            }\n            console.log(\"Token from localStorage:\", token ? \"\".concat(token.substring(0, 10), \"...\") : \"No token found\");\n            // Apply each shape to the backend\n            for (const shape of drawnShapes){\n                // Convert hex color to RGB\n                const hexToRgb = (hex)=>{\n                    const result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n                    return result ? {\n                        r: parseInt(result[1], 16),\n                        g: parseInt(result[2], 16),\n                        b: parseInt(result[3], 16)\n                    } : {\n                        r: 255,\n                        g: 0,\n                        b: 0\n                    };\n                };\n                const color = hexToRgb(shape.color);\n                // Build query parameters based on shape type\n                let params = new URLSearchParams({\n                    shape_type: shape.type,\n                    color_r: color.r.toString(),\n                    color_g: color.g.toString(),\n                    color_b: color.b.toString(),\n                    thickness: shape.thickness.toString(),\n                    create_copy: createCopy ? \"true\" : \"false\"\n                });\n                console.log(\"API Request create_copy value:\", createCopy);\n                if (shape.type === \"text\") {\n                    params.append(\"start_x\", shape.x.toString());\n                    params.append(\"start_y\", shape.y.toString());\n                    params.append(\"text\", shape.text);\n                    params.append(\"font_size\", \"1.0\");\n                } else {\n                    params.append(\"start_x\", shape.startX.toString());\n                    params.append(\"start_y\", shape.startY.toString());\n                    if (shape.type === \"circle\") {\n                        const radius = Math.round(Math.sqrt(Math.pow(shape.endX - shape.startX, 2) + Math.pow(shape.endY - shape.startY, 2)));\n                        params.append(\"radius\", radius.toString());\n                    } else {\n                        params.append(\"end_x\", shape.endX.toString());\n                        params.append(\"end_y\", shape.endY.toString());\n                    }\n                }\n                // Save the response from the last shape as it will contain the new image ID if create_copy is true\n                // First remove create_copy from params\n                params.delete(\"create_copy\");\n                // Add create_copy directly to URL in a format FastAPI expects\n                const createCopyValue = createCopy ? 1 : 0; // Use 1/0 which FastAPI can parse more reliably\n                const apiUrl = \"http://localhost:8000/image/\".concat(image.id, \"/draw?\").concat(params.toString(), \"&create_copy=\").concat(createCopyValue);\n                console.log(\"API URL:\", apiUrl);\n                try {\n                    // Make sure token is valid\n                    if (token === null || token === undefined || token === \"\") {\n                        throw new Error(\"Authentication token is missing\");\n                    }\n                    const response = await axios__WEBPACK_IMPORTED_MODULE_2__[\"default\"].post(apiUrl, {}, {\n                        headers: {\n                            Authorization: \"Bearer \".concat(token),\n                            // Add explicit content type and cache control\n                            \"Content-Type\": \"application/json\",\n                            \"Cache-Control\": \"no-cache\"\n                        }\n                    });\n                    console.log(\"API Response:\", response.data);\n                } catch (error) {\n                    var _error_response, _error_response1, _error_response2;\n                    console.error(\"API Call Error:\", error);\n                    console.error(\"Error Response:\", (_error_response = error.response) === null || _error_response === void 0 ? void 0 : _error_response.data);\n                    console.error(\"Error Status:\", (_error_response1 = error.response) === null || _error_response1 === void 0 ? void 0 : _error_response1.status);\n                    // If 401 error, suggest token refresh\n                    if (((_error_response2 = error.response) === null || _error_response2 === void 0 ? void 0 : _error_response2.status) === 401) {\n                        console.error(\"Authentication error - token may be expired\");\n                        // Try to refresh the page to get a new token\n                        if (confirm(\"Your session has expired. Would you like to refresh the page to login again?\")) {\n                            window.location.reload();\n                            return; // Stop execution\n                        }\n                    }\n                    throw error; // Re-throw to be caught by outer try/catch\n                }\n            }\n            const actionType = createCopy ? \"created a copy with\" : \"updated the original image with\";\n            alert(\"Successfully \".concat(actionType, \" \").concat(drawnShapes.length, \" shapes drawn.\"));\n            // Make a request to get the latest images to get the new image info\n            const latestImagesResponse = await axios__WEBPACK_IMPORTED_MODULE_2__[\"default\"].get(\"http://localhost:8000/my-images\", {\n                headers: {\n                    Authorization: \"Bearer \".concat(token)\n                }\n            });\n            // If we created a copy, the new image will be the first in the list\n            const newImageData = createCopy ? latestImagesResponse.data[0] : null;\n            // Pass back information about the drawing operation\n            if (onProcessed) {\n                onProcessed({\n                    success: true,\n                    createCopy: createCopy,\n                    shapesCount: drawnShapes.length,\n                    originalImage: image,\n                    newImage: newImageData,\n                    message: \"Successfully \".concat(actionType, \" \").concat(drawnShapes.length, \" shapes\"),\n                    shouldRefreshGallery: true\n                });\n            }\n            if (onClose) onClose();\n        } catch (error) {\n            var _error_response_data, _error_response3;\n            console.error(\"Error applying drawing:\", error);\n            const errorMessage = ((_error_response3 = error.response) === null || _error_response3 === void 0 ? void 0 : (_error_response_data = _error_response3.data) === null || _error_response_data === void 0 ? void 0 : _error_response_data.detail) || error.message || \"Unknown error occurred\";\n            alert(\"Failed to apply drawing: \".concat(errorMessage));\n        } finally{\n            setProcessing(false);\n            setShowModal(false);\n        }\n    };\n    // Function for the Apply Drawing button\n    const applyDrawing = ()=>{\n        showConfirmationModal();\n    };\n    const clearCanvas = ()=>{\n        setDrawnShapes([]);\n        setIsDrawing(false);\n        setStartPoint(null);\n        setCurrentPoint(null);\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"space-y-4 pb-8 mb-4\",\n        children: [\n            showModal && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"modal-overlay\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"modal-content\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"modal-header\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                className: \"text-lg font-medium text-white\",\n                                children: \"Apply Drawing\"\n                            }, void 0, false, {\n                                fileName: \"/home/jetrossneri/CSC 126/Group Activity/frontend/components/DrawingTools.js\",\n                                lineNumber: 588,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/home/jetrossneri/CSC 126/Group Activity/frontend/components/DrawingTools.js\",\n                            lineNumber: 587,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"text-gray-300 text-sm\",\n                            children: \"Would you like to update the original image or create a new copy with the drawing?\"\n                        }, void 0, false, {\n                            fileName: \"/home/jetrossneri/CSC 126/Group Activity/frontend/components/DrawingTools.js\",\n                            lineNumber: 590,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"modal-actions\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: ()=>setShowModal(false),\n                                    className: \"modal-button modal-button-secondary\",\n                                    disabled: processing,\n                                    children: \"Cancel\"\n                                }, void 0, false, {\n                                    fileName: \"/home/jetrossneri/CSC 126/Group Activity/frontend/components/DrawingTools.js\",\n                                    lineNumber: 595,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: ()=>handleApplyDrawing(false),\n                                    className: \"modal-button modal-button-secondary\",\n                                    disabled: processing,\n                                    children: \"Update Original\"\n                                }, void 0, false, {\n                                    fileName: \"/home/jetrossneri/CSC 126/Group Activity/frontend/components/DrawingTools.js\",\n                                    lineNumber: 602,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: ()=>handleApplyDrawing(true),\n                                    className: \"modal-button modal-button-primary\",\n                                    disabled: processing,\n                                    children: \"Create Copy\"\n                                }, void 0, false, {\n                                    fileName: \"/home/jetrossneri/CSC 126/Group Activity/frontend/components/DrawingTools.js\",\n                                    lineNumber: 609,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/home/jetrossneri/CSC 126/Group Activity/frontend/components/DrawingTools.js\",\n                            lineNumber: 594,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/jetrossneri/CSC 126/Group Activity/frontend/components/DrawingTools.js\",\n                    lineNumber: 586,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/home/jetrossneri/CSC 126/Group Activity/frontend/components/DrawingTools.js\",\n                lineNumber: 585,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                className: \"text-sm font-medium text-gray-300 flex items-center\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        className: \"text-lg mr-2\",\n                        children: \"âœï¸\"\n                    }, void 0, false, {\n                        fileName: \"/home/jetrossneri/CSC 126/Group Activity/frontend/components/DrawingTools.js\",\n                        lineNumber: 622,\n                        columnNumber: 9\n                    }, this),\n                    \"Interactive Drawing Tools\"\n                ]\n            }, void 0, true, {\n                fileName: \"/home/jetrossneri/CSC 126/Group Activity/frontend/components/DrawingTools.js\",\n                lineNumber: 621,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"drawing-canvas border border-gray-600 rounded-lg overflow-hidden bg-black\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                        ref: imageRef,\n                        src: \"http://localhost:8000/uploads/\".concat(image.filename),\n                        alt: image.original_filename,\n                        onLoad: ()=>{\n                            const canvas = canvasRef.current;\n                            const img = imageRef.current;\n                            if (canvas && img) {\n                                canvas.width = img.naturalWidth;\n                                canvas.height = img.naturalHeight;\n                                drawOnCanvas();\n                            }\n                        }\n                    }, void 0, false, {\n                        fileName: \"/home/jetrossneri/CSC 126/Group Activity/frontend/components/DrawingTools.js\",\n                        lineNumber: 628,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"canvas\", {\n                        ref: canvasRef,\n                        onMouseDown: handleStart,\n                        onMouseMove: handleMove,\n                        onMouseUp: handleEnd,\n                        onMouseLeave: handleEnd,\n                        onTouchStart: handleStart,\n                        onTouchMove: handleMove,\n                        onTouchEnd: handleEnd,\n                        style: {\n                            touchAction: \"none\"\n                        }\n                    }, void 0, false, {\n                        fileName: \"/home/jetrossneri/CSC 126/Group Activity/frontend/components/DrawingTools.js\",\n                        lineNumber: 642,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/jetrossneri/CSC 126/Group Activity/frontend/components/DrawingTools.js\",\n                lineNumber: 627,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"grid grid-cols-3 gap-2\",\n                children: [\n                    {\n                        value: \"select\",\n                        label: \"Select\",\n                        icon: \"ðŸ‘†\"\n                    },\n                    {\n                        value: \"line\",\n                        label: \"Line\",\n                        icon: \"ðŸ“\"\n                    },\n                    {\n                        value: \"rectangle\",\n                        label: \"Rectangle\",\n                        icon: \"â–­\"\n                    },\n                    {\n                        value: \"circle\",\n                        label: \"Circle\",\n                        icon: \"â­•\"\n                    },\n                    {\n                        value: \"text\",\n                        label: \"Text\",\n                        icon: \"ðŸ“\"\n                    }\n                ].map((tool)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: ()=>{\n                            setDrawingTool(tool.value);\n                            if (tool.value !== \"select\") {\n                                setSelectedShapeIndex(null);\n                            }\n                        },\n                        className: \"flex items-center justify-center p-3 border rounded-lg transition-colors \".concat(drawingTool === tool.value ? \"border-blue-400 bg-gray-700 text-blue-400\" : \"border-gray-600 hover:border-gray-400 text-gray-300\"),\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"mr-2\",\n                                children: tool.icon\n                            }, void 0, false, {\n                                fileName: \"/home/jetrossneri/CSC 126/Group Activity/frontend/components/DrawingTools.js\",\n                                lineNumber: 678,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"text-sm\",\n                                children: tool.label\n                            }, void 0, false, {\n                                fileName: \"/home/jetrossneri/CSC 126/Group Activity/frontend/components/DrawingTools.js\",\n                                lineNumber: 679,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, tool.value, true, {\n                        fileName: \"/home/jetrossneri/CSC 126/Group Activity/frontend/components/DrawingTools.js\",\n                        lineNumber: 664,\n                        columnNumber: 11\n                    }, this))\n            }, void 0, false, {\n                fileName: \"/home/jetrossneri/CSC 126/Group Activity/frontend/components/DrawingTools.js\",\n                lineNumber: 656,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"space-y-3\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center justify-between\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                className: \"text-sm text-gray-300\",\n                                children: \"Color\"\n                            }, void 0, false, {\n                                fileName: \"/home/jetrossneri/CSC 126/Group Activity/frontend/components/DrawingTools.js\",\n                                lineNumber: 687,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                type: \"color\",\n                                value: drawingColor,\n                                onChange: (e)=>setDrawingColor(e.target.value),\n                                className: \"w-10 h-8 rounded border border-gray-600 bg-transparent\"\n                            }, void 0, false, {\n                                fileName: \"/home/jetrossneri/CSC 126/Group Activity/frontend/components/DrawingTools.js\",\n                                lineNumber: 688,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/jetrossneri/CSC 126/Group Activity/frontend/components/DrawingTools.js\",\n                        lineNumber: 686,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"space-y-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center justify-between\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                        className: \"text-sm text-gray-300\",\n                                        children: drawingTool === \"text\" ? \"Font Size\" : \"Thickness\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/jetrossneri/CSC 126/Group Activity/frontend/components/DrawingTools.js\",\n                                        lineNumber: 698,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        className: \"text-xs text-gray-400\",\n                                        children: drawingTool === \"text\" ? \"\".concat(drawingThickness * 10, \"px\") : \"\".concat(drawingThickness, \"px\")\n                                    }, void 0, false, {\n                                        fileName: \"/home/jetrossneri/CSC 126/Group Activity/frontend/components/DrawingTools.js\",\n                                        lineNumber: 701,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/jetrossneri/CSC 126/Group Activity/frontend/components/DrawingTools.js\",\n                                lineNumber: 697,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                type: \"range\",\n                                min: \"1\",\n                                max: drawingTool === \"text\" ? \"5\" : \"20\",\n                                value: drawingThickness,\n                                onChange: (e)=>setDrawingThickness(parseInt(e.target.value)),\n                                className: \"w-full h-1 bg-gray-600 rounded-lg appearance-none cursor-pointer slider\"\n                            }, void 0, false, {\n                                fileName: \"/home/jetrossneri/CSC 126/Group Activity/frontend/components/DrawingTools.js\",\n                                lineNumber: 707,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/jetrossneri/CSC 126/Group Activity/frontend/components/DrawingTools.js\",\n                        lineNumber: 696,\n                        columnNumber: 9\n                    }, this),\n                    drawingTool === \"text\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"space-y-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                className: \"text-sm text-gray-300\",\n                                children: \"Default Text\"\n                            }, void 0, false, {\n                                fileName: \"/home/jetrossneri/CSC 126/Group Activity/frontend/components/DrawingTools.js\",\n                                lineNumber: 719,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                type: \"text\",\n                                value: drawingText,\n                                onChange: (e)=>setDrawingText(e.target.value),\n                                className: \"w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded text-white text-sm focus:border-blue-400 focus:outline-none\",\n                                placeholder: \"Enter default text\"\n                            }, void 0, false, {\n                                fileName: \"/home/jetrossneri/CSC 126/Group Activity/frontend/components/DrawingTools.js\",\n                                lineNumber: 720,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-xs text-gray-500\",\n                                children: \"Click on the image to place text (you can edit it when clicking)\"\n                            }, void 0, false, {\n                                fileName: \"/home/jetrossneri/CSC 126/Group Activity/frontend/components/DrawingTools.js\",\n                                lineNumber: 727,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/jetrossneri/CSC 126/Group Activity/frontend/components/DrawingTools.js\",\n                        lineNumber: 718,\n                        columnNumber: 11\n                    }, this),\n                    drawnShapes.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"text-xs text-gray-400 bg-gray-800 rounded p-2\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex items-center justify-between\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    children: [\n                                        drawnShapes.length,\n                                        \" shape(s) drawn\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/jetrossneri/CSC 126/Group Activity/frontend/components/DrawingTools.js\",\n                                    lineNumber: 736,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: clearCanvas,\n                                    className: \"text-red-400 hover:text-red-300 text-xs underline\",\n                                    children: \"Clear All\"\n                                }, void 0, false, {\n                                    fileName: \"/home/jetrossneri/CSC 126/Group Activity/frontend/components/DrawingTools.js\",\n                                    lineNumber: 737,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/home/jetrossneri/CSC 126/Group Activity/frontend/components/DrawingTools.js\",\n                            lineNumber: 735,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/home/jetrossneri/CSC 126/Group Activity/frontend/components/DrawingTools.js\",\n                        lineNumber: 734,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/jetrossneri/CSC 126/Group Activity/frontend/components/DrawingTools.js\",\n                lineNumber: 685,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"space-y-2\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: applyDrawing,\n                        disabled: processing || drawnShapes.length === 0,\n                        className: \"w-full py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-500 disabled:bg-gray-600 font-medium text-sm\",\n                        children: processing ? \"Applying Drawing...\" : \"Apply Drawing (\".concat(drawnShapes.length, \" shapes)\")\n                    }, void 0, false, {\n                        fileName: \"/home/jetrossneri/CSC 126/Group Activity/frontend/components/DrawingTools.js\",\n                        lineNumber: 749,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-xs text-gray-500 text-center\",\n                        children: drawingTool === \"text\" ? \"Click on image to place text\" : drawingTool === \"select\" ? \"Click on rectangle, circle, or text to select and move\" : \"Click and drag on image to draw shapes\"\n                    }, void 0, false, {\n                        fileName: \"/home/jetrossneri/CSC 126/Group Activity/frontend/components/DrawingTools.js\",\n                        lineNumber: 759,\n                        columnNumber: 9\n                    }, this),\n                    drawingTool === \"select\" && selectedShapeIndex !== null && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-xs text-green-400 text-center\",\n                        children: \"Shape selected! Drag to move it around\"\n                    }, void 0, false, {\n                        fileName: \"/home/jetrossneri/CSC 126/Group Activity/frontend/components/DrawingTools.js\",\n                        lineNumber: 767,\n                        columnNumber: 11\n                    }, this),\n                    drawnShapes.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-xs text-blue-400 text-center\",\n                        children: \"When applied, you'll have the option to update the original or create a copy\"\n                    }, void 0, false, {\n                        fileName: \"/home/jetrossneri/CSC 126/Group Activity/frontend/components/DrawingTools.js\",\n                        lineNumber: 772,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/jetrossneri/CSC 126/Group Activity/frontend/components/DrawingTools.js\",\n                lineNumber: 748,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/jetrossneri/CSC 126/Group Activity/frontend/components/DrawingTools.js\",\n        lineNumber: 582,\n        columnNumber: 5\n    }, this);\n}\n_s(DrawingTools, \"2o9bCxBLIP/qym2MLgQbzKijAlM=\");\n_c = DrawingTools;\nvar _c;\n$RefreshReg$(_c, \"DrawingTools\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2NvbXBvbmVudHMvRHJhd2luZ1Rvb2xzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFFb0Q7QUFDMUI7QUFFWCxTQUFTSSxhQUFhLEtBQStCO1FBQS9CLEVBQUVDLEtBQUssRUFBRUMsV0FBVyxFQUFFQyxPQUFPLEVBQUUsR0FBL0I7O0lBQ25DLE1BQU0sQ0FBQ0MsWUFBWUMsY0FBYyxHQUFHVCwrQ0FBUUEsQ0FBQztJQUM3QyxNQUFNLENBQUNVLGFBQWFDLGVBQWUsR0FBR1gsK0NBQVFBLENBQUM7SUFDL0MsTUFBTSxDQUFDWSxjQUFjQyxnQkFBZ0IsR0FBR2IsK0NBQVFBLENBQUM7SUFDakQsTUFBTSxDQUFDYyxrQkFBa0JDLG9CQUFvQixHQUFHZiwrQ0FBUUEsQ0FBQztJQUN6RCxNQUFNLENBQUNnQixhQUFhQyxlQUFlLEdBQUdqQiwrQ0FBUUEsQ0FBQztJQUMvQyxNQUFNLENBQUNrQixXQUFXQyxhQUFhLEdBQUduQiwrQ0FBUUEsQ0FBQztJQUMzQyxNQUFNLENBQUNvQixZQUFZQyxjQUFjLEdBQUdyQiwrQ0FBUUEsQ0FBQztJQUM3QyxNQUFNLENBQUNzQixjQUFjQyxnQkFBZ0IsR0FBR3ZCLCtDQUFRQSxDQUFDO0lBQ2pELE1BQU0sQ0FBQ3dCLGFBQWFDLGVBQWUsR0FBR3pCLCtDQUFRQSxDQUFDLEVBQUU7SUFDakQsTUFBTSxDQUFDMEIsV0FBV0MsYUFBYSxHQUFHM0IsK0NBQVFBLENBQUM7SUFDM0MsTUFBTSxDQUFDNEIsb0JBQW9CQyxzQkFBc0IsR0FBRzdCLCtDQUFRQSxDQUFDO0lBQzdELE1BQU0sQ0FBQzhCLFVBQVVDLFlBQVksR0FBRy9CLCtDQUFRQSxDQUFDO0lBQ3pDLE1BQU0sQ0FBQ2dDLFlBQVlDLGNBQWMsR0FBR2pDLCtDQUFRQSxDQUFDO0lBQzdDLE1BQU0sQ0FBQ2tDLGNBQWNDLGdCQUFnQixHQUFHbkMsK0NBQVFBLENBQUMsT0FBTyw2QkFBNkI7SUFDckYsTUFBTSxDQUFDb0MsWUFBWUMsY0FB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Q3pDLDhEQUFDNEI7Z0NBQ0NsSSxNQUFLO2dDQUNMNkgsT0FBT25NO2dDQUNQeU0sVUFBVSxDQUFDNUssSUFBTTVCLGVBQWU0QixFQUFFNkssTUFBTSxDQUFDUCxLQUFLO2dDQUM5Q3ZCLFdBQVU7Z0NBQ1YrQixhQUFZOzs7Ozs7MENBRWQsOERBQUM3QjtnQ0FBRUYsV0FBVTswQ0FBd0I7Ozs7Ozs7Ozs7OztvQkFNeENwSyxZQUFZMEQsTUFBTSxHQUFHLG1CQUNwQiw4REFBQ3lHO3dCQUFJQyxXQUFVO2tDQUNiLDRFQUFDRDs0QkFBSUMsV0FBVTs7OENBQ2IsOERBQUNPOzt3Q0FBTTNLLFlBQVkwRCxNQUFNO3dDQUFDOzs7Ozs7OzhDQUMxQiw4REFBQzZHO29DQUNDQyxTQUFTTjtvQ0FDVEUsV0FBVTs4Q0FDWDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7MEJBUVQsOERBQUNEO2dCQUFJQyxXQUFVOztrQ0FDYiw4REFBQ0c7d0JBQ0NDLFNBQVNQO3dCQUNUUSxVQUFVekwsY0FBY2dCLFlBQVkwRCxNQUFNLEtBQUs7d0JBQy9DMEcsV0FBVTtrQ0FFVHBMLGFBQ0csd0JBQ0Esa0JBQXFDLE9BQW5CZ0IsWUFBWTBELE1BQU0sRUFBQzs7Ozs7O2tDQUczQyw4REFBQzRHO3dCQUFFRixXQUFVO2tDQUNWbEwsZ0JBQWdCLFNBQ2IsaUNBQ0FBLGdCQUFnQixXQUNoQiwyREFDQTs7Ozs7O29CQUVMQSxnQkFBZ0IsWUFBWWtCLHVCQUF1QixzQkFDbEQsOERBQUNrSzt3QkFBRUYsV0FBVTtrQ0FBcUM7Ozs7OztvQkFJbkRwSyxZQUFZMEQsTUFBTSxHQUFHLG1CQUNwQiw4REFBQzRHO3dCQUFFRixXQUFVO2tDQUFvQzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBUTNEO0dBdHdCd0J4TDtLQUFBQSIsInNvdXJjZXMiOlsiL2hvbWUvamV0cm9zc25lcmkvQ1NDIDEyNi9Hcm91cCBBY3Rpdml0eS9mcm9udGVuZC9jb21wb25lbnRzL0RyYXdpbmdUb29scy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHsgdXNlU3RhdGUsIHVzZVJlZiwgdXNlRWZmZWN0IH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgYXhpb3MgZnJvbSBcImF4aW9zXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIERyYXdpbmdUb29scyh7IGltYWdlLCBvblByb2Nlc3NlZCwgb25DbG9zZSB9KSB7XG4gIGNvbnN0IFtwcm9jZXNzaW5nLCBzZXRQcm9jZXNzaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2RyYXdpbmdUb29sLCBzZXREcmF3aW5nVG9vbF0gPSB1c2VTdGF0ZShcImxpbmVcIik7XG4gIGNvbnN0IFtkcmF3aW5nQ29sb3IsIHNldERyYXdpbmdDb2xvcl0gPSB1c2VTdGF0ZShcIiNGRjAwMDBcIik7XG4gIGNvbnN0IFtkcmF3aW5nVGhpY2tuZXNzLCBzZXREcmF3aW5nVGhpY2tuZXNzXSA9IHVzZVN0YXRlKDIpO1xuICBjb25zdCBbZHJhd2luZ1RleHQsIHNldERyYXdpbmdUZXh0XSA9IHVzZVN0YXRlKFwiU2FtcGxlIFRleHRcIik7XG4gIGNvbnN0IFtpc0RyYXdpbmcsIHNldElzRHJhd2luZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtzdGFydFBvaW50LCBzZXRTdGFydFBvaW50XSA9IHVzZVN0YXRlKG51bGwpO1xuICBjb25zdCBbY3VycmVudFBvaW50LCBzZXRDdXJyZW50UG9pbnRdID0gdXNlU3RhdGUobnVsbCk7XG4gIGNvbnN0IFtkcmF3blNoYXBlcywgc2V0RHJhd25TaGFwZXNdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbc2hvd01vZGFsLCBzZXRTaG93TW9kYWxdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbc2VsZWN0ZWRTaGFwZUluZGV4LCBzZXRTZWxlY3RlZFNoYXBlSW5kZXhdID0gdXNlU3RhdGUobnVsbCk7XG4gIGNvbnN0IFtpc01vdmluZywgc2V0SXNNb3ZpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbaXNSZXNpemluZywgc2V0SXNSZXNpemluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtyZXNpemVIYW5kbGUsIHNldFJlc2l6ZUhhbmRsZV0gPSB1c2VTdGF0ZShudWxsKTsgLy8gdGwsIHRyLCBibCwgYnIsIHIgKHJhZGl1cylcbiAgY29uc3QgW21vdmVPZmZzZXQsIHNldE1vdmVPZmZzZXRdID0gdXNlU3RhdGUoeyB4OiAwLCB5OiAwIH0pO1xuICBjb25zdCBjYW52YXNSZWYgPSB1c2VSZWYobnVsbCk7XG4gIGNvbnN0IGltYWdlUmVmID0gdXNlUmVmKG51bGwpO1xuICBjb25zdCBbbW9kZSwgc2V0TW9kZV0gPSB1c2VTdGF0ZShcImRyYXdcIik7IC8vIFwiZHJhd1wiLCBcImludGVyYWN0XCJcblxuICAvLyBHZXQgY2FudmFzIGNvb3JkaW5hdGVzIHJlbGF0aXZlIHRvIGltYWdlXG4gIGNvbnN0IGdldENhbnZhc0Nvb3JkaW5hdGVzID0gKGUpID0+IHtcbiAgICBjb25zdCBjYW52YXMgPSBjYW52YXNSZWYuY3VycmVudDtcbiAgICBjb25zdCByZWN0ID0gY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGNvbnN0IHNjYWxlWCA9IGNhbnZhcy53aWR0aCAvIHJlY3Qud2lkdGg7XG4gICAgY29uc3Qgc2NhbGVZID0gY2FudmFzLmhlaWdodCAvIHJlY3QuaGVpZ2h0O1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHg6IE1hdGgucm91bmQoKGUuY2xpZW50WCAtIHJlY3QubGVmdCkgKiBzY2FsZVgpLFxuICAgICAgeTogTWF0aC5yb3VuZCgoZS5jbGllbnRZIC0gcmVjdC50b3ApICogc2NhbGVZKSxcbiAgICB9O1xuICB9O1xuXG4gIC8vIENoZWNrIGlmIHBvaW50IGlzIGluc2lkZSBhIHJlY3RhbmdsZSBzaGFwZVxuICBjb25zdCBpc1BvaW50SW5SZWN0YW5nbGUgPSAocG9pbnQsIHNoYXBlKSA9PiB7XG4gICAgY29uc3QgbWluWCA9IE1hdGgubWluKHNoYXBlLnN0YXJ0WCwgc2hhcGUuZW5kWCk7XG4gICAgY29uc3QgbWF4WCA9IE1hdGgubWF4KHNoYXBlLnN0YXJ0WCwgc2hhcGUuZW5kWCk7XG4gICAgY29uc3QgbWluWSA9IE1hdGgubWluKHNoYXBlLnN0YXJ0WSwgc2hhcGUuZW5kWSk7XG4gICAgY29uc3QgbWF4WSA9IE1hdGgubWF4KHNoYXBlLnN0YXJ0WSwgc2hhcGUuZW5kWSk7XG5cbiAgICByZXR1cm4gKFxuICAgICAgcG9pbnQueCA+PSBtaW5YICYmIHBvaW50LnggPD0gbWF4WCAmJiBwb2ludC55ID49IG1pblkgJiYgcG9pbnQueSA8PSBtYXhZXG4gICAgKTtcbiAgfTtcblxuICAvLyBDaGVjayBpZiBwb2ludCBpcyBpbnNpZGUgYSBjaXJjbGUgc2hhcGVcbiAgY29uc3QgaXNQb2ludEluQ2lyY2xlID0gKHBvaW50LCBzaGFwZSkgPT4ge1xuICAgIGNvbnN0IHJhZGl1cyA9IE1hdGguc3FydChcbiAgICAgIE1hdGgucG93KHNoYXBlLmVuZFggLSBzaGFwZS5zdGFydFgsIDIpICtcbiAgICAgICAgTWF0aC5wb3coc2hhcGUuZW5kWSAtIHNoYXBlLnN0YXJ0WSwgMilcbiAgICApO1xuICAgIGNvbnN0IGRpc3RhbmNlID0gTWF0aC5zcXJ0KFxuICAgICAgTWF0aC5wb3cocG9pbnQueCAtIHNoYXBlLnN0YXJ0WCwgMikgKyBNYXRoLnBvdyhwb2ludC55IC0gc2hhcGUuc3RhcnRZLCAyKVxuICAgICk7XG5cbiAgICByZXR1cm4gZGlzdGFuY2UgPD0gcmFkaXVzO1xuICB9O1xuXG4gIC8vIENoZWNrIGlmIHBvaW50IGlzIG5lYXIgdGV4dCAodXNpbmcgYSBwcm94aW1pdHkgdGhyZXNob2xkKVxuICBjb25zdCBpc1BvaW50TmVhclRleHQgPSAocG9pbnQsIHNoYXBlKSA9PiB7XG4gICAgY29uc3QgdGV4dFdpZHRoID0gc2hhcGUudGhpY2tuZXNzICogMTAgKiBzaGFwZS50ZXh0Lmxlbmd0aCAqIDAuNjtcbiAgICBjb25zdCB0ZXh0SGVpZ2h0ID0gc2hhcGUudGhpY2tuZXNzICogMTA7XG5cbiAgICByZXR1cm4gKFxuICAgICAgcG9pbnQueCA+PSBzaGFwZS54ICYmXG4gICAgICBwb2ludC54IDw9IHNoYXBlLnggKyB0ZXh0V2lkdGggJiZcbiAgICAgIHBvaW50LnkgPj0gc2hhcGUueSAtIHRleHRIZWlnaHQgJiZcbiAgICAgIHBvaW50LnkgPD0gc2hhcGUueVxuICAgICk7XG4gIH07XG5cbiAgLy8gRmluZCBzaGFwZSB1bmRlciBwb2ludFxuICBjb25zdCBmaW5kU2hhcGVBdFBvaW50ID0gKHBvaW50KSA9PiB7XG4gICAgLy8gU2VhcmNoIGluIHJldmVyc2Ugb3JkZXIgKHRvcC1tb3N0IHNoYXBlcyBmaXJzdClcbiAgICBmb3IgKGxldCBpID0gZHJhd25TaGFwZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgIGNvbnN0IHNoYXBlID0gZHJhd25TaGFwZXNbaV07XG5cbiAgICAgIGlmIChzaGFwZS50eXBlID09PSBcInJlY3RhbmdsZVwiICYmIGlzUG9pbnRJblJlY3RhbmdsZShwb2ludCwgc2hhcGUpKSB7XG4gICAgICAgIHJldHVybiBpO1xuICAgICAgfSBlbHNlIGlmIChzaGFwZS50eXBlID09PSBcImNpcmNsZVwiICYmIGlzUG9pbnRJbkNpcmNsZShwb2ludCwgc2hhcGUpKSB7XG4gICAgICAgIHJldHVybiBpO1xuICAgICAgfSBlbHNlIGlmIChzaGFwZS50eXBlID09PSBcInRleHRcIiAmJiBpc1BvaW50TmVhclRleHQocG9pbnQsIHNoYXBlKSkge1xuICAgICAgICByZXR1cm4gaTtcbiAgICAgIH1cbiAgICAgIC8vIExpbmVzIGFyZSBub3Qgc2VsZWN0YWJsZS9tb3ZhYmxlXG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG5cbiAgLy8gSGFuZGxlIG1vdXNlL3RvdWNoIGV2ZW50cyBmb3IgZHJhd2luZ1xuICBjb25zdCBoYW5kbGVTdGFydCA9IChlKSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGNvbnN0IGNvb3JkcyA9IGdldENhbnZhc0Nvb3JkaW5hdGVzKGUudG91Y2hlcyA/IGUudG91Y2hlc1swXSA6IGUpO1xuXG4gICAgaWYgKGRyYXdpbmdUb29sID09PSBcInNlbGVjdFwiKSB7XG4gICAgICAvLyBTZWxlY3Rpb24gbW9kZVxuICAgICAgY29uc3Qgc2hhcGVJbmRleCA9IGZpbmRTaGFwZUF0UG9pbnQoY29vcmRzKTtcblxuICAgICAgaWYgKHNoYXBlSW5kZXggIT09IG51bGwpIHtcbiAgICAgICAgc2V0U2VsZWN0ZWRTaGFwZUluZGV4KHNoYXBlSW5kZXgpO1xuXG4gICAgICAgIGNvbnN0IHNoYXBlID0gZHJhd25TaGFwZXNbc2hhcGVJbmRleF07XG5cbiAgICAgICAgLy8gQ2FsY3VsYXRlIG9mZnNldCBmb3IgbW92aW5nXG4gICAgICAgIGlmIChzaGFwZS50eXBlID09PSBcInRleHRcIikge1xuICAgICAgICAgIHNldE1vdmVPZmZzZXQoe1xuICAgICAgICAgICAgeDogY29vcmRzLnggLSBzaGFwZS54LFxuICAgICAgICAgICAgeTogY29vcmRzLnkgLSBzaGFwZS55LFxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2UgaWYgKHNoYXBlLnR5cGUgPT09IFwicmVjdGFuZ2xlXCIgfHwgc2hhcGUudHlwZSA9PT0gXCJjaXJjbGVcIikge1xuICAgICAgICAgIHNldE1vdmVPZmZzZXQoe1xuICAgICAgICAgICAgeDogY29vcmRzLnggLSBzaGFwZS5zdGFydFgsXG4gICAgICAgICAgICB5OiBjb29yZHMueSAtIHNoYXBlLnN0YXJ0WSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNldElzTW92aW5nKHRydWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2V0U2VsZWN0ZWRTaGFwZUluZGV4KG51bGwpO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChkcmF3aW5nVG9vbCA9PT0gXCJ0ZXh0XCIpIHtcbiAgICAgIC8vIEZvciB0ZXh0LCBqdXN0IHNldCBwb3NpdGlvbiBvbiBjbGlja1xuICAgICAgY29uc3QgdGV4dCA9IHByb21wdChcIkVudGVyIHRleHQgdG8gZHJhdzpcIiwgZHJhd2luZ1RleHQpO1xuICAgICAgaWYgKHRleHQpIHtcbiAgICAgICAgY29uc3QgbmV3U2hhcGUgPSB7XG4gICAgICAgICAgdHlwZTogXCJ0ZXh0XCIsXG4gICAgICAgICAgdGV4dDogdGV4dCxcbiAgICAgICAgICB4OiBjb29yZHMueCxcbiAgICAgICAgICB5OiBjb29yZHMueSxcbiAgICAgICAgICBjb2xvcjogZHJhd2luZ0NvbG9yLFxuICAgICAgICAgIHRoaWNrbmVzczogZHJhd2luZ1RoaWNrbmVzcyxcbiAgICAgICAgfTtcbiAgICAgICAgc2V0RHJhd25TaGFwZXMoKHByZXYpID0+IFsuLi5wcmV2LCBuZXdTaGFwZV0pO1xuICAgICAgICBkcmF3T25DYW52YXMoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBzZXRJc0RyYXdpbmcodHJ1ZSk7XG4gICAgc2V0U3RhcnRQb2ludChjb29yZHMpO1xuICAgIHNldEN1cnJlbnRQb2ludChjb29yZHMpO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZU1vdmUgPSAoZSkgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBjb25zdCBjb29yZHMgPSBnZXRDYW52YXNDb29yZGluYXRlcyhlLnRvdWNoZXMgPyBlLnRvdWNoZXNbMF0gOiBlKTtcblxuICAgIGlmIChkcmF3aW5nVG9vbCA9PT0gXCJzZWxlY3RcIiAmJiBpc01vdmluZyAmJiBzZWxlY3RlZFNoYXBlSW5kZXggIT09IG51bGwpIHtcbiAgICAgIC8vIE1vdmluZyBhIHNlbGVjdGVkIHNoYXBlXG4gICAgICBjb25zdCBzaGFwZSA9IHsgLi4uZHJhd25TaGFwZXNbc2VsZWN0ZWRTaGFwZUluZGV4XSB9O1xuICAgICAgY29uc3QgbmV3WCA9IGNvb3Jkcy54IC0gbW92ZU9mZnNldC54O1xuICAgICAgY29uc3QgbmV3WSA9IGNvb3Jkcy55IC0gbW92ZU9mZnNldC55O1xuXG4gICAgICBpZiAoc2hhcGUudHlwZSA9PT0gXCJ0ZXh0XCIpIHtcbiAgICAgICAgLy8gVXBkYXRlIHRleHQgcG9zaXRpb25cbiAgICAgICAgc2hhcGUueCA9IG5ld1g7XG4gICAgICAgIHNoYXBlLnkgPSBuZXdZO1xuICAgICAgfSBlbHNlIGlmIChzaGFwZS50eXBlID09PSBcInJlY3RhbmdsZVwiIHx8IHNoYXBlLnR5cGUgPT09IFwiY2lyY2xlXCIpIHtcbiAgICAgICAgLy8gQ2FsY3VsYXRlIGhvdyBtdWNoIHRoZSBzaGFwZSBtb3ZlZFxuICAgICAgICBjb25zdCBkZWx0YVggPSBuZXdYIC0gc2hhcGUuc3RhcnRYO1xuICAgICAgICBjb25zdCBkZWx0YVkgPSBuZXdZIC0gc2hhcGUuc3RhcnRZO1xuXG4gICAgICAgIC8vIFVwZGF0ZSBzdGFydCBhbmQgZW5kIGNvb3JkaW5hdGVzXG4gICAgICAgIHNoYXBlLnN0YXJ0WCA9IG5ld1g7XG4gICAgICAgIHNoYXBlLnN0YXJ0WSA9IG5ld1k7XG4gICAgICAgIHNoYXBlLmVuZFggPSBzaGFwZS5lbmRYICsgZGVsdGFYO1xuICAgICAgICBzaGFwZS5lbmRZID0gc2hhcGUuZW5kWSArIGRlbHRhWTtcbiAgICAgIH1cblxuICAgICAgLy8gVXBkYXRlIHRoZSBzaGFwZSBpbiB0aGUgc2hhcGVzIGFycmF5XG4gICAgICBjb25zdCB1cGRhdGVkU2hhcGVzID0gWy4uLmRyYXduU2hhcGVzXTtcbiAgICAgIHVwZGF0ZWRTaGFwZXNbc2VsZWN0ZWRTaGFwZUluZGV4XSA9IHNoYXBlO1xuICAgICAgc2V0RHJhd25TaGFwZXModXBkYXRlZFNoYXBlcyk7XG5cbiAgICAgIGRyYXdPbkNhbnZhcygpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICghaXNEcmF3aW5nIHx8IGRyYXdpbmdUb29sID09PSBcInRleHRcIikgcmV0dXJuO1xuXG4gICAgc2V0Q3VycmVudFBvaW50KGNvb3Jkcyk7XG4gICAgZHJhd09uQ2FudmFzKCk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlRW5kID0gKGUpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICBpZiAoaXNNb3ZpbmcpIHtcbiAgICAgIHNldElzTW92aW5nKGZhbHNlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoIWlzRHJhd2luZykgcmV0dXJuO1xuXG4gICAgc2V0SXNEcmF3aW5nKGZhbHNlKTtcblxuICAgIGlmIChcbiAgICAgIHN0YXJ0UG9pbnQgJiZcbiAgICAgIGN1cnJlbnRQb2ludCAmJlxuICAgICAgKHN0YXJ0UG9pbnQueCAhPT0gY3VycmVudFBvaW50LnggfHwgc3RhcnRQb2ludC55ICE9PSBjdXJyZW50UG9pbnQueSlcbiAgICApIHtcbiAgICAgIGNvbnN0IG5ld1NoYXBlID0ge1xuICAgICAgICB0eXBlOiBkcmF3aW5nVG9vbCxcbiAgICAgICAgc3RhcnRYOiBzdGFydFBvaW50LngsXG4gICAgICAgIHN0YXJ0WTogc3RhcnRQb2ludC55LFxuICAgICAgICBlbmRYOiBjdXJyZW50UG9pbnQueCxcbiAgICAgICAgZW5kWTogY3VycmVudFBvaW50LnksXG4gICAgICAgIGNvbG9yOiBkcmF3aW5nQ29sb3IsXG4gICAgICAgIHRoaWNrbmVzczogZHJhd2luZ1RoaWNrbmVzcyxcbiAgICAgIH07XG5cbiAgICAgIHNldERyYXduU2hhcGVzKChwcmV2KSA9PiBbLi4ucHJldiwgbmV3U2hhcGVdKTtcbiAgICB9XG5cbiAgICBzZXRTdGFydFBvaW50KG51bGwpO1xuICAgIHNldEN1cnJlbnRQb2ludChudWxsKTtcbiAgfTtcblxuICAvLyBEcmF3IHNoYXBlcyBvbiBjYW52YXNcbiAgY29uc3QgZHJhd09uQ2FudmFzID0gKCkgPT4ge1xuICAgIGNvbnN0IGNhbnZhcyA9IGNhbnZhc1JlZi5jdXJyZW50O1xuICAgIGlmICghY2FudmFzKSByZXR1cm47XG5cbiAgICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xuICAgIGN0eC5jbGVhclJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcblxuICAgIC8vIERyYXcgZXhpc3Rpbmcgc2hhcGVzXG4gICAgZHJhd25TaGFwZXMuZm9yRWFjaCgoc2hhcGUsIGluZGV4KSA9PiB7XG4gICAgICBjb25zdCBpc1NlbGVjdGVkID0gaW5kZXggPT09IHNlbGVjdGVkU2hhcGVJbmRleDtcblxuICAgICAgLy8gU2V0IHN0eWxlcyBiYXNlZCBvbiBzaGFwZSBwcm9wZXJ0aWVzXG4gICAgICBjdHguc3Ryb2tlU3R5bGUgPSBzaGFwZS5jb2xvcjtcbiAgICAgIGN0eC5saW5lV2lkdGggPSBzaGFwZS50aGlja25lc3M7XG4gICAgICBjdHguZmlsbFN0eWxlID0gc2hhcGUuY29sb3I7XG5cbiAgICAgIC8vIERyYXcgdGhlIHNoYXBlXG4gICAgICBpZiAoc2hhcGUudHlwZSA9PT0gXCJsaW5lXCIpIHtcbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICBjdHgubW92ZVRvKHNoYXBlLnN0YXJ0WCwgc2hhcGUuc3RhcnRZKTtcbiAgICAgICAgY3R4LmxpbmVUbyhzaGFwZS5lbmRYLCBzaGFwZS5lbmRZKTtcbiAgICAgICAgY3R4LnN0cm9rZSgpO1xuICAgICAgfSBlbHNlIGlmIChzaGFwZS50eXBlID09PSBcInJlY3RhbmdsZVwiKSB7XG4gICAgICAgIGN0eC5zdHJva2VSZWN0KFxuICAgICAgICAgIHNoYXBlLnN0YXJ0WCxcbiAgICAgICAgICBzaGFwZS5zdGFydFksXG4gICAgICAgICAgc2hhcGUuZW5kWCAtIHNoYXBlLnN0YXJ0WCxcbiAgICAgICAgICBzaGFwZS5lbmRZIC0gc2hhcGUuc3RhcnRZXG4gICAgICAgICk7XG5cbiAgICAgICAgLy8gRHJhdyBzZWxlY3Rpb24gaGFuZGxlcyBpZiBzZWxlY3RlZFxuICAgICAgICBpZiAoaXNTZWxlY3RlZCkge1xuICAgICAgICAgIC8vIERyYXcgc2VsZWN0aW9uIG91dGxpbmVcbiAgICAgICAgICBjdHguc2F2ZSgpO1xuICAgICAgICAgIGN0eC5zdHJva2VTdHlsZSA9IFwiIzAwQUFGRlwiO1xuICAgICAgICAgIGN0eC5saW5lV2lkdGggPSAyO1xuICAgICAgICAgIGN0eC5zZXRMaW5lRGFzaChbNSwgNV0pO1xuICAgICAgICAgIGN0eC5zdHJva2VSZWN0KFxuICAgICAgICAgICAgc2hhcGUuc3RhcnRYIC0gNSxcbiAgICAgICAgICAgIHNoYXBlLnN0YXJ0WSAtIDUsXG4gICAgICAgICAgICBzaGFwZS5lbmRYIC0gc2hhcGUuc3RhcnRYICsgMTAsXG4gICAgICAgICAgICBzaGFwZS5lbmRZIC0gc2hhcGUuc3RhcnRZICsgMTBcbiAgICAgICAgICApO1xuICAgICAgICAgIGN0eC5yZXN0b3JlKCk7XG5cbiAgICAgICAgICAvLyBEcmF3IG1vdmUgaW5kaWNhdG9yXG4gICAgICAgICAgY3R4LnNhdmUoKTtcbiAgICAgICAgICBjdHguZmlsbFN0eWxlID0gXCIjMDBBQUZGXCI7XG4gICAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICAgIGN0eC5hcmMoc2hhcGUuc3RhcnRYLCBzaGFwZS5zdGFydFksIDYsIDAsIDIgKiBNYXRoLlBJKTtcbiAgICAgICAgICBjdHguZmlsbCgpO1xuICAgICAgICAgIGN0eC5yZXN0b3JlKCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoc2hhcGUudHlwZSA9PT0gXCJjaXJjbGVcIikge1xuICAgICAgICBjb25zdCByYWRpdXMgPSBNYXRoLnNxcnQoXG4gICAgICAgICAgTWF0aC5wb3coc2hhcGUuZW5kWCAtIHNoYXBlLnN0YXJ0WCwgMikgK1xuICAgICAgICAgICAgTWF0aC5wb3coc2hhcGUuZW5kWSAtIHNoYXBlLnN0YXJ0WSwgMilcbiAgICAgICAgKTtcbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICBjdHguYXJjKHNoYXBlLnN0YXJ0WCwgc2hhcGUuc3RhcnRZLCByYWRpdXMsIDAsIDIgKiBNYXRoLlBJKTtcbiAgICAgICAgY3R4LnN0cm9rZSgpO1xuXG4gICAgICAgIC8vIERyYXcgc2VsZWN0aW9uIGhhbmRsZXMgaWYgc2VsZWN0ZWRcbiAgICAgICAgaWYgKGlzU2VsZWN0ZWQpIHtcbiAgICAgICAgICAvLyBEcmF3IHNlbGVjdGlvbiBvdXRsaW5lXG4gICAgICAgICAgY3R4LnNhdmUoKTtcbiAgICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSBcIiMwMEFBRkZcIjtcbiAgICAgICAgICBjdHgubGluZVdpZHRoID0gMjtcbiAgICAgICAgICBjdHguc2V0TGluZURhc2goWzUsIDVdKTtcbiAgICAgICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICAgICAgY3R4LmFyYyhzaGFwZS5zdGFydFgsIHNoYXBlLnN0YXJ0WSwgcmFkaXVzICsgNSwgMCwgMiAqIE1hdGguUEkpO1xuICAgICAgICAgIGN0eC5zdHJva2UoKTtcbiAgICAgICAgICBjdHgucmVzdG9yZSgpO1xuXG4gICAgICAgICAgLy8gRHJhdyBtb3ZlIGluZGljYXRvclxuICAgICAgICAgIGN0eC5zYXZlKCk7XG4gICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IFwiIzAwQUFGRlwiO1xuICAgICAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgICBjdHguYXJjKHNoYXBlLnN0YXJ0WCwgc2hhcGUuc3RhcnRZLCA2LCAwLCAyICogTWF0aC5QSSk7XG4gICAgICAgICAgY3R4LmZpbGwoKTtcbiAgICAgICAgICBjdHgucmVzdG9yZSgpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHNoYXBlLnR5cGUgPT09IFwidGV4dFwiKSB7XG4gICAgICAgIGN0eC5mb250ID0gYCR7c2hhcGUudGhpY2tuZXNzICogMTB9cHggQXJpYWxgO1xuICAgICAgICBjdHguZmlsbFRleHQoc2hhcGUudGV4dCwgc2hhcGUueCwgc2hhcGUueSk7XG5cbiAgICAgICAgLy8gRHJhdyBzZWxlY3Rpb24gaGFuZGxlcyBpZiBzZWxlY3RlZFxuICAgICAgICBpZiAoaXNTZWxlY3RlZCkge1xuICAgICAgICAgIGNvbnN0IHRleHRXaWR0aCA9IHNoYXBlLnRoaWNrbmVzcyAqIDEwICogc2hhcGUudGV4dC5sZW5ndGggKiAwLjY7XG4gICAgICAgICAgY29uc3QgdGV4dEhlaWdodCA9IHNoYXBlLnRoaWNrbmVzcyAqIDEwO1xuXG4gICAgICAgICAgLy8gRHJhdyBzZWxlY3Rpb24gb3V0bGluZVxuICAgICAgICAgIGN0eC5zYXZlKCk7XG4gICAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gXCIjMDBBQUZGXCI7XG4gICAgICAgICAgY3R4LmxpbmVXaWR0aCA9IDI7XG4gICAgICAgICAgY3R4LnNldExpbmVEYXNoKFs1LCA1XSk7XG4gICAgICAgICAgY3R4LnN0cm9rZVJlY3QoXG4gICAgICAgICAgICBzaGFwZS54IC0gNSxcbiAgICAgICAgICAgIHNoYXBlLnkgLSB0ZXh0SGVpZ2h0IC0gNSxcbiAgICAgICAgICAgIHRleHRXaWR0aCArIDEwLFxuICAgICAgICAgICAgdGV4dEhlaWdodCArIDEwXG4gICAgICAgICAgKTtcbiAgICAgICAgICBjdHgucmVzdG9yZSgpO1xuXG4gICAgICAgICAgLy8gRHJhdyBtb3ZlIGluZGljYXRvclxuICAgICAgICAgIGN0eC5zYXZlKCk7XG4gICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IFwiIzAwQUFGRlwiO1xuICAgICAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgICBjdHguYXJjKHNoYXBlLngsIHNoYXBlLnkgLSB0ZXh0SGVpZ2h0IC8gMiwgNiwgMCwgMiAqIE1hdGguUEkpO1xuICAgICAgICAgIGN0eC5maWxsKCk7XG4gICAgICAgICAgY3R4LnJlc3RvcmUoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gRHJhdyBjdXJyZW50IHNoYXBlIGJlaW5nIGRyYXduXG4gICAgaWYgKGlzRHJhd2luZyAmJiBzdGFydFBvaW50ICYmIGN1cnJlbnRQb2ludCkge1xuICAgICAgY3R4LnN0cm9rZVN0eWxlID0gZHJhd2luZ0NvbG9yO1xuICAgICAgY3R4LmxpbmVXaWR0aCA9IGRyYXdpbmdUaGlja25lc3M7XG5cbiAgICAgIGlmIChkcmF3aW5nVG9vbCA9PT0gXCJsaW5lXCIpIHtcbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICBjdHgubW92ZVRvKHN0YXJ0UG9pbnQueCwgc3RhcnRQb2ludC55KTtcbiAgICAgICAgY3R4LmxpbmVUbyhjdXJyZW50UG9pbnQueCwgY3VycmVudFBvaW50LnkpO1xuICAgICAgICBjdHguc3Ryb2tlKCk7XG4gICAgICB9IGVsc2UgaWYgKGRyYXdpbmdUb29sID09PSBcInJlY3RhbmdsZVwiKSB7XG4gICAgICAgIGN0eC5zdHJva2VSZWN0KFxuICAgICAgICAgIHN0YXJ0UG9pbnQueCxcbiAgICAgICAgICBzdGFydFBvaW50LnksXG4gICAgICAgICAgY3VycmVudFBvaW50LnggLSBzdGFydFBvaW50LngsXG4gICAgICAgICAgY3VycmVudFBvaW50LnkgLSBzdGFydFBvaW50LnlcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSBpZiAoZHJhd2luZ1Rvb2wgPT09IFwiY2lyY2xlXCIpIHtcbiAgICAgICAgY29uc3QgcmFkaXVzID0gTWF0aC5zcXJ0KFxuICAgICAgICAgIE1hdGgucG93KGN1cnJlbnRQb2ludC54IC0gc3RhcnRQb2ludC54LCAyKSArXG4gICAgICAgICAgICBNYXRoLnBvdyhjdXJyZW50UG9pbnQueSAtIHN0YXJ0UG9pbnQueSwgMilcbiAgICAgICAgKTtcbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICBjdHguYXJjKHN0YXJ0UG9pbnQueCwgc3RhcnRQb2ludC55LCByYWRpdXMsIDAsIDIgKiBNYXRoLlBJKTtcbiAgICAgICAgY3R4LnN0cm9rZSgpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICAvLyBTZXR1cCBjYW52YXMgd2hlbiBpbWFnZSBsb2Fkc1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGltZyA9IGltYWdlUmVmLmN1cnJlbnQ7XG4gICAgY29uc3QgY2FudmFzID0gY2FudmFzUmVmLmN1cnJlbnQ7XG5cbiAgICBpZiAoaW1nICYmIGNhbnZhcykge1xuICAgICAgY2FudmFzLndpZHRoID0gaW1nLm5hdHVyYWxXaWR0aDtcbiAgICAgIGNhbnZhcy5oZWlnaHQgPSBpbWcubmF0dXJhbEhlaWdodDtcbiAgICAgIGRyYXdPbkNhbnZhcygpO1xuICAgIH1cbiAgfSwgW1xuICAgIGRyYXduU2hhcGVzLFxuICAgIGlzRHJhd2luZyxcbiAgICBzdGFydFBvaW50LFxuICAgIGN1cnJlbnRQb2ludCxcbiAgICBkcmF3aW5nQ29sb3IsXG4gICAgZHJhd2luZ1RoaWNrbmVzcyxcbiAgICBzZWxlY3RlZFNoYXBlSW5kZXgsXG4gICAgaXNNb3ZpbmcsXG4gIF0pO1xuXG4gIC8vIEZ1bmN0aW9uIHRvIG9wZW4gdGhlIGNvbmZpcm1hdGlvbiBtb2RhbFxuICBjb25zdCBzaG93Q29uZmlybWF0aW9uTW9kYWwgPSAoKSA9PiB7XG4gICAgaWYgKGRyYXduU2hhcGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgYWxlcnQoXCJQbGVhc2UgZHJhdyBzb21ldGhpbmcgZmlyc3QhXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzZXRTaG93TW9kYWwodHJ1ZSk7XG4gIH07XG5cbiAgLy8gRnVuY3Rpb24gdG8gaGFuZGxlIHRoZSBhY3R1YWwgZHJhd2luZyBhcHBsaWNhdGlvblxuICBjb25zdCBoYW5kbGVBcHBseURyYXdpbmcgPSBhc3luYyAoY3JlYXRlQ29weSA9IHRydWUpID0+IHtcbiAgICBzZXRQcm9jZXNzaW5nKHRydWUpO1xuICAgIHRyeSB7XG4gICAgICAvLyBHZXQgYSBmcmVzaCB0b2tlblxuICAgICAgY29uc3QgdG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInRva2VuXCIpO1xuXG4gICAgICAvLyBJZiB0b2tlbiBpcyBub3QgZm91bmQsIGFsZXJ0IHVzZXJcbiAgICAgIGlmICghdG9rZW4pIHtcbiAgICAgICAgYWxlcnQoXCJBdXRoZW50aWNhdGlvbiB0b2tlbiBub3QgZm91bmQuIFBsZWFzZSBsb2cgaW4gYWdhaW4uXCIpO1xuICAgICAgICBpZiAob25DbG9zZSkgb25DbG9zZSgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGNvbnNvbGUubG9nKFxuICAgICAgICBcIlRva2VuIGZyb20gbG9jYWxTdG9yYWdlOlwiLFxuICAgICAgICB0b2tlbiA/IGAke3Rva2VuLnN1YnN0cmluZygwLCAxMCl9Li4uYCA6IFwiTm8gdG9rZW4gZm91bmRcIlxuICAgICAgKTtcblxuICAgICAgLy8gQXBwbHkgZWFjaCBzaGFwZSB0byB0aGUgYmFja2VuZFxuICAgICAgZm9yIChjb25zdCBzaGFwZSBvZiBkcmF3blNoYXBlcykge1xuICAgICAgICAvLyBDb252ZXJ0IGhleCBjb2xvciB0byBSR0JcbiAgICAgICAgY29uc3QgaGV4VG9SZ2IgPSAoaGV4KSA9PiB7XG4gICAgICAgICAgY29uc3QgcmVzdWx0ID0gL14jPyhbYS1mXFxkXXsyfSkoW2EtZlxcZF17Mn0pKFthLWZcXGRdezJ9KSQvaS5leGVjKGhleCk7XG4gICAgICAgICAgcmV0dXJuIHJlc3VsdFxuICAgICAgICAgICAgPyB7XG4gICAgICAgICAgICAgICAgcjogcGFyc2VJbnQocmVzdWx0WzFdLCAxNiksXG4gICAgICAgICAgICAgICAgZzogcGFyc2VJbnQocmVzdWx0WzJdLCAxNiksXG4gICAgICAgICAgICAgICAgYjogcGFyc2VJbnQocmVzdWx0WzNdLCAxNiksXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIDogeyByOiAyNTUsIGc6IDAsIGI6IDAgfTtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBjb2xvciA9IGhleFRvUmdiKHNoYXBlLmNvbG9yKTtcblxuICAgICAgICAvLyBCdWlsZCBxdWVyeSBwYXJhbWV0ZXJzIGJhc2VkIG9uIHNoYXBlIHR5cGVcbiAgICAgICAgbGV0IHBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoe1xuICAgICAgICAgIHNoYXBlX3R5cGU6IHNoYXBlLnR5cGUsXG4gICAgICAgICAgY29sb3JfcjogY29sb3Iuci50b1N0cmluZygpLFxuICAgICAgICAgIGNvbG9yX2c6IGNvbG9yLmcudG9TdHJpbmcoKSxcbiAgICAgICAgICBjb2xvcl9iOiBjb2xvci5iLnRvU3RyaW5nKCksXG4gICAgICAgICAgdGhpY2tuZXNzOiBzaGFwZS50aGlja25lc3MudG9TdHJpbmcoKSxcbiAgICAgICAgICBjcmVhdGVfY29weTogY3JlYXRlQ29weSA/IFwidHJ1ZVwiIDogXCJmYWxzZVwiLFxuICAgICAgICB9KTtcblxuICAgICAgICBjb25zb2xlLmxvZyhcIkFQSSBSZXF1ZXN0IGNyZWF0ZV9jb3B5IHZhbHVlOlwiLCBjcmVhdGVDb3B5KTtcblxuICAgICAgICBpZiAoc2hhcGUudHlwZSA9PT0gXCJ0ZXh0XCIpIHtcbiAgICAgICAgICBwYXJhbXMuYXBwZW5kKFwic3RhcnRfeFwiLCBzaGFwZS54LnRvU3RyaW5nKCkpO1xuICAgICAgICAgIHBhcmFtcy5hcHBlbmQoXCJzdGFydF95XCIsIHNoYXBlLnkudG9TdHJpbmcoKSk7XG4gICAgICAgICAgcGFyYW1zLmFwcGVuZChcInRleHRcIiwgc2hhcGUudGV4dCk7XG4gICAgICAgICAgcGFyYW1zLmFwcGVuZChcImZvbnRfc2l6ZVwiLCBcIjEuMFwiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwYXJhbXMuYXBwZW5kKFwic3RhcnRfeFwiLCBzaGFwZS5zdGFydFgudG9TdHJpbmcoKSk7XG4gICAgICAgICAgcGFyYW1zLmFwcGVuZChcInN0YXJ0X3lcIiwgc2hhcGUuc3RhcnRZLnRvU3RyaW5nKCkpO1xuXG4gICAgICAgICAgaWYgKHNoYXBlLnR5cGUgPT09IFwiY2lyY2xlXCIpIHtcbiAgICAgICAgICAgIGNvbnN0IHJhZGl1cyA9IE1hdGgucm91bmQoXG4gICAgICAgICAgICAgIE1hdGguc3FydChcbiAgICAgICAgICAgICAgICBNYXRoLnBvdyhzaGFwZS5lbmRYIC0gc2hhcGUuc3RhcnRYLCAyKSArXG4gICAgICAgICAgICAgICAgICBNYXRoLnBvdyhzaGFwZS5lbmRZIC0gc2hhcGUuc3RhcnRZLCAyKVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgcGFyYW1zLmFwcGVuZChcInJhZGl1c1wiLCByYWRpdXMudG9TdHJpbmcoKSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBhcmFtcy5hcHBlbmQoXCJlbmRfeFwiLCBzaGFwZS5lbmRYLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgcGFyYW1zLmFwcGVuZChcImVuZF95XCIsIHNoYXBlLmVuZFkudG9TdHJpbmcoKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2F2ZSB0aGUgcmVzcG9uc2UgZnJvbSB0aGUgbGFzdCBzaGFwZSBhcyBpdCB3aWxsIGNvbnRhaW4gdGhlIG5ldyBpbWFnZSBJRCBpZiBjcmVhdGVfY29weSBpcyB0cnVlXG4gICAgICAgIC8vIEZpcnN0IHJlbW92ZSBjcmVhdGVfY29weSBmcm9tIHBhcmFtc1xuICAgICAgICBwYXJhbXMuZGVsZXRlKFwiY3JlYXRlX2NvcHlcIik7XG5cbiAgICAgICAgLy8gQWRkIGNyZWF0ZV9jb3B5IGRpcmVjdGx5IHRvIFVSTCBpbiBhIGZvcm1hdCBGYXN0QVBJIGV4cGVjdHNcbiAgICAgICAgY29uc3QgY3JlYXRlQ29weVZhbHVlID0gY3JlYXRlQ29weSA/IDEgOiAwOyAvLyBVc2UgMS8wIHdoaWNoIEZhc3RBUEkgY2FuIHBhcnNlIG1vcmUgcmVsaWFibHlcbiAgICAgICAgY29uc3QgYXBpVXJsID0gYGh0dHA6Ly9sb2NhbGhvc3Q6ODAwMC9pbWFnZS8ke1xuICAgICAgICAgIGltYWdlLmlkXG4gICAgICAgIH0vZHJhdz8ke3BhcmFtcy50b1N0cmluZygpfSZjcmVhdGVfY29weT0ke2NyZWF0ZUNvcHlWYWx1ZX1gO1xuICAgICAgICBjb25zb2xlLmxvZyhcIkFQSSBVUkw6XCIsIGFwaVVybCk7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyBNYWtlIHN1cmUgdG9rZW4gaXMgdmFsaWRcbiAgICAgICAgICBpZiAodG9rZW4gPT09IG51bGwgfHwgdG9rZW4gPT09IHVuZGVmaW5lZCB8fCB0b2tlbiA9PT0gXCJcIikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQXV0aGVudGljYXRpb24gdG9rZW4gaXMgbWlzc2luZ1wiKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGF4aW9zLnBvc3QoXG4gICAgICAgICAgICBhcGlVcmwsXG4gICAgICAgICAgICB7fSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0b2tlbn1gLFxuICAgICAgICAgICAgICAgIC8vIEFkZCBleHBsaWNpdCBjb250ZW50IHR5cGUgYW5kIGNhY2hlIGNvbnRyb2xcbiAgICAgICAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgICAgICAgICAgICBcIkNhY2hlLUNvbnRyb2xcIjogXCJuby1jYWNoZVwiLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfVxuICAgICAgICAgICk7XG4gICAgICAgICAgY29uc29sZS5sb2coXCJBUEkgUmVzcG9uc2U6XCIsIHJlc3BvbnNlLmRhdGEpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJBUEkgQ2FsbCBFcnJvcjpcIiwgZXJyb3IpO1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBSZXNwb25zZTpcIiwgZXJyb3IucmVzcG9uc2U/LmRhdGEpO1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBTdGF0dXM6XCIsIGVycm9yLnJlc3BvbnNlPy5zdGF0dXMpO1xuXG4gICAgICAgICAgLy8gSWYgNDAxIGVycm9yLCBzdWdnZXN0IHRva2VuIHJlZnJlc2hcbiAgICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2U/LnN0YXR1cyA9PT0gNDAxKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiQXV0aGVudGljYXRpb24gZXJyb3IgLSB0b2tlbiBtYXkgYmUgZXhwaXJlZFwiKTtcbiAgICAgICAgICAgIC8vIFRyeSB0byByZWZyZXNoIHRoZSBwYWdlIHRvIGdldCBhIG5ldyB0b2tlblxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICBjb25maXJtKFxuICAgICAgICAgICAgICAgIFwiWW91ciBzZXNzaW9uIGhhcyBleHBpcmVkLiBXb3VsZCB5b3UgbGlrZSB0byByZWZyZXNoIHRoZSBwYWdlIHRvIGxvZ2luIGFnYWluP1wiXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XG4gICAgICAgICAgICAgIHJldHVybjsgLy8gU3RvcCBleGVjdXRpb25cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICB0aHJvdyBlcnJvcjsgLy8gUmUtdGhyb3cgdG8gYmUgY2F1Z2h0IGJ5IG91dGVyIHRyeS9jYXRjaFxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGFjdGlvblR5cGUgPSBjcmVhdGVDb3B5XG4gICAgICAgID8gXCJjcmVhdGVkIGEgY29weSB3aXRoXCJcbiAgICAgICAgOiBcInVwZGF0ZWQgdGhlIG9yaWdpbmFsIGltYWdlIHdpdGhcIjtcbiAgICAgIGFsZXJ0KGBTdWNjZXNzZnVsbHkgJHthY3Rpb25UeXBlfSAke2RyYXduU2hhcGVzLmxlbmd0aH0gc2hhcGVzIGRyYXduLmApO1xuXG4gICAgICAvLyBNYWtlIGEgcmVxdWVzdCB0byBnZXQgdGhlIGxhdGVzdCBpbWFnZXMgdG8gZ2V0IHRoZSBuZXcgaW1hZ2UgaW5mb1xuICAgICAgY29uc3QgbGF0ZXN0SW1hZ2VzUmVzcG9uc2UgPSBhd2FpdCBheGlvcy5nZXQoXG4gICAgICAgIGBodHRwOi8vbG9jYWxob3N0OjgwMDAvbXktaW1hZ2VzYCxcbiAgICAgICAge1xuICAgICAgICAgIGhlYWRlcnM6IHsgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3Rva2VufWAgfSxcbiAgICAgICAgfVxuICAgICAgKTtcblxuICAgICAgLy8gSWYgd2UgY3JlYXRlZCBhIGNvcHksIHRoZSBuZXcgaW1hZ2Ugd2lsbCBiZSB0aGUgZmlyc3QgaW4gdGhlIGxpc3RcbiAgICAgIGNvbnN0IG5ld0ltYWdlRGF0YSA9IGNyZWF0ZUNvcHkgPyBsYXRlc3RJbWFnZXNSZXNwb25zZS5kYXRhWzBdIDogbnVsbDtcblxuICAgICAgLy8gUGFzcyBiYWNrIGluZm9ybWF0aW9uIGFib3V0IHRoZSBkcmF3aW5nIG9wZXJhdGlvblxuICAgICAgaWYgKG9uUHJvY2Vzc2VkKSB7XG4gICAgICAgIG9uUHJvY2Vzc2VkKHtcbiAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgIGNyZWF0ZUNvcHk6IGNyZWF0ZUNvcHksXG4gICAgICAgICAgc2hhcGVzQ291bnQ6IGRyYXduU2hhcGVzLmxlbmd0aCxcbiAgICAgICAgICBvcmlnaW5hbEltYWdlOiBpbWFnZSxcbiAgICAgICAgICBuZXdJbWFnZTogbmV3SW1hZ2VEYXRhLCAvLyBJbmNsdWRlIHRoZSBuZXcgaW1hZ2UgZGF0YSBpZiBhIGNvcHkgd2FzIGNyZWF0ZWRcbiAgICAgICAgICBtZXNzYWdlOiBgU3VjY2Vzc2Z1bGx5ICR7YWN0aW9uVHlwZX0gJHtkcmF3blNoYXBlcy5sZW5ndGh9IHNoYXBlc2AsXG4gICAgICAgICAgc2hvdWxkUmVmcmVzaEdhbGxlcnk6IHRydWUsIC8vIFNpZ25hbCB0aGF0IHRoZSBnYWxsZXJ5IHNob3VsZCBiZSByZWZyZXNoZWRcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChvbkNsb3NlKSBvbkNsb3NlKCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBhcHBseWluZyBkcmF3aW5nOlwiLCBlcnJvcik7XG4gICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPVxuICAgICAgICBlcnJvci5yZXNwb25zZT8uZGF0YT8uZGV0YWlsIHx8XG4gICAgICAgIGVycm9yLm1lc3NhZ2UgfHxcbiAgICAgICAgXCJVbmtub3duIGVycm9yIG9jY3VycmVkXCI7XG4gICAgICBhbGVydChgRmFpbGVkIHRvIGFwcGx5IGRyYXdpbmc6ICR7ZXJyb3JNZXNzYWdlfWApO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRQcm9jZXNzaW5nKGZhbHNlKTtcbiAgICAgIHNldFNob3dNb2RhbChmYWxzZSk7XG4gICAgfVxuICB9O1xuXG4gIC8vIEZ1bmN0aW9uIGZvciB0aGUgQXBwbHkgRHJhd2luZyBidXR0b25cbiAgY29uc3QgYXBwbHlEcmF3aW5nID0gKCkgPT4ge1xuICAgIHNob3dDb25maXJtYXRpb25Nb2RhbCgpO1xuICB9O1xuXG4gIGNvbnN0IGNsZWFyQ2FudmFzID0gKCkgPT4ge1xuICAgIHNldERyYXduU2hhcGVzKFtdKTtcbiAgICBzZXRJc0RyYXdpbmcoZmFsc2UpO1xuICAgIHNldFN0YXJ0UG9pbnQobnVsbCk7XG4gICAgc2V0Q3VycmVudFBvaW50KG51bGwpO1xuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTQgcGItOCBtYi00XCI+XG4gICAgICB7LyogQ29uZmlybWF0aW9uIE1vZGFsICovfVxuICAgICAge3Nob3dNb2RhbCAmJiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtb3ZlcmxheVwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9kYWwtY29udGVudFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1oZWFkZXJcIj5cbiAgICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInRleHQtbGcgZm9udC1tZWRpdW0gdGV4dC13aGl0ZVwiPkFwcGx5IERyYXdpbmc8L2gzPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktMzAwIHRleHQtc21cIj5cbiAgICAgICAgICAgICAgV291bGQgeW91IGxpa2UgdG8gdXBkYXRlIHRoZSBvcmlnaW5hbCBpbWFnZSBvciBjcmVhdGUgYSBuZXcgY29weVxuICAgICAgICAgICAgICB3aXRoIHRoZSBkcmF3aW5nP1xuICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1hY3Rpb25zXCI+XG4gICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRTaG93TW9kYWwoZmFsc2UpfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm1vZGFsLWJ1dHRvbiBtb2RhbC1idXR0b24tc2Vjb25kYXJ5XCJcbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17cHJvY2Vzc2luZ31cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIENhbmNlbFxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGhhbmRsZUFwcGx5RHJhd2luZyhmYWxzZSl9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwibW9kYWwtYnV0dG9uIG1vZGFsLWJ1dHRvbi1zZWNvbmRhcnlcIlxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXtwcm9jZXNzaW5nfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgVXBkYXRlIE9yaWdpbmFsXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlQXBwbHlEcmF3aW5nKHRydWUpfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm1vZGFsLWJ1dHRvbiBtb2RhbC1idXR0b24tcHJpbWFyeVwiXG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3Byb2Nlc3Npbmd9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICBDcmVhdGUgQ29weVxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG5cbiAgICAgIDxoNCBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS0zMDAgZmxleCBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1sZyBtci0yXCI+4pyP77iPPC9zcGFuPlxuICAgICAgICBJbnRlcmFjdGl2ZSBEcmF3aW5nIFRvb2xzXG4gICAgICA8L2g0PlxuXG4gICAgICB7LyogRHJhd2luZyBDYW52YXMgKi99XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImRyYXdpbmctY2FudmFzIGJvcmRlciBib3JkZXItZ3JheS02MDAgcm91bmRlZC1sZyBvdmVyZmxvdy1oaWRkZW4gYmctYmxhY2tcIj5cbiAgICAgICAgPGltZ1xuICAgICAgICAgIHJlZj17aW1hZ2VSZWZ9XG4gICAgICAgICAgc3JjPXtgaHR0cDovL2xvY2FsaG9zdDo4MDAwL3VwbG9hZHMvJHtpbWFnZS5maWxlbmFtZX1gfVxuICAgICAgICAgIGFsdD17aW1hZ2Uub3JpZ2luYWxfZmlsZW5hbWV9XG4gICAgICAgICAgb25Mb2FkPXsoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBjYW52YXMgPSBjYW52YXNSZWYuY3VycmVudDtcbiAgICAgICAgICAgIGNvbnN0IGltZyA9IGltYWdlUmVmLmN1cnJlbnQ7XG4gICAgICAgICAgICBpZiAoY2FudmFzICYmIGltZykge1xuICAgICAgICAgICAgICBjYW52YXMud2lkdGggPSBpbWcubmF0dXJhbFdpZHRoO1xuICAgICAgICAgICAgICBjYW52YXMuaGVpZ2h0ID0gaW1nLm5hdHVyYWxIZWlnaHQ7XG4gICAgICAgICAgICAgIGRyYXdPbkNhbnZhcygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH19XG4gICAgICAgIC8+XG4gICAgICAgIDxjYW52YXNcbiAgICAgICAgICByZWY9e2NhbnZhc1JlZn1cbiAgICAgICAgICBvbk1vdXNlRG93bj17aGFuZGxlU3RhcnR9XG4gICAgICAgICAgb25Nb3VzZU1vdmU9e2hhbmRsZU1vdmV9XG4gICAgICAgICAgb25Nb3VzZVVwPXtoYW5kbGVFbmR9XG4gICAgICAgICAgb25Nb3VzZUxlYXZlPXtoYW5kbGVFbmR9XG4gICAgICAgICAgb25Ub3VjaFN0YXJ0PXtoYW5kbGVTdGFydH1cbiAgICAgICAgICBvblRvdWNoTW92ZT17aGFuZGxlTW92ZX1cbiAgICAgICAgICBvblRvdWNoRW5kPXtoYW5kbGVFbmR9XG4gICAgICAgICAgc3R5bGU9e3sgdG91Y2hBY3Rpb246IFwibm9uZVwiIH19XG4gICAgICAgIC8+XG4gICAgICA8L2Rpdj5cblxuICAgICAgey8qIERyYXdpbmcgVG9vbCBTZWxlY3Rpb24gKi99XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTMgZ2FwLTJcIj5cbiAgICAgICAge1tcbiAgICAgICAgICB7IHZhbHVlOiBcInNlbGVjdFwiLCBsYWJlbDogXCJTZWxlY3RcIiwgaWNvbjogXCLwn5GGXCIgfSxcbiAgICAgICAgICB7IHZhbHVlOiBcImxpbmVcIiwgbGFiZWw6IFwiTGluZVwiLCBpY29uOiBcIvCfk49cIiB9LFxuICAgICAgICAgIHsgdmFsdWU6IFwicmVjdGFuZ2xlXCIsIGxhYmVsOiBcIlJlY3RhbmdsZVwiLCBpY29uOiBcIuKWrVwiIH0sXG4gICAgICAgICAgeyB2YWx1ZTogXCJjaXJjbGVcIiwgbGFiZWw6IFwiQ2lyY2xlXCIsIGljb246IFwi4q2VXCIgfSxcbiAgICAgICAgICB7IHZhbHVlOiBcInRleHRcIiwgbGFiZWw6IFwiVGV4dFwiLCBpY29uOiBcIvCfk51cIiB9LFxuICAgICAgICBdLm1hcCgodG9vbCkgPT4gKFxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIGtleT17dG9vbC52YWx1ZX1cbiAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgc2V0RHJhd2luZ1Rvb2wodG9vbC52YWx1ZSk7XG4gICAgICAgICAgICAgIGlmICh0b29sLnZhbHVlICE9PSBcInNlbGVjdFwiKSB7XG4gICAgICAgICAgICAgICAgc2V0U2VsZWN0ZWRTaGFwZUluZGV4KG51bGwpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9fVxuICAgICAgICAgICAgY2xhc3NOYW1lPXtgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcC0zIGJvcmRlciByb3VuZGVkLWxnIHRyYW5zaXRpb24tY29sb3JzICR7XG4gICAgICAgICAgICAgIGRyYXdpbmdUb29sID09PSB0b29sLnZhbHVlXG4gICAgICAgICAgICAgICAgPyBcImJvcmRlci1ibHVlLTQwMCBiZy1ncmF5LTcwMCB0ZXh0LWJsdWUtNDAwXCJcbiAgICAgICAgICAgICAgICA6IFwiYm9yZGVyLWdyYXktNjAwIGhvdmVyOmJvcmRlci1ncmF5LTQwMCB0ZXh0LWdyYXktMzAwXCJcbiAgICAgICAgICAgIH1gfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1yLTJcIj57dG9vbC5pY29ufTwvc3Bhbj5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtc21cIj57dG9vbC5sYWJlbH08L3NwYW4+XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICkpfVxuICAgICAgPC9kaXY+XG5cbiAgICAgIHsvKiBEcmF3aW5nIFBhcmFtZXRlcnMgKi99XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktM1wiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlblwiPlxuICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS0zMDBcIj5Db2xvcjwvbGFiZWw+XG4gICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICB0eXBlPVwiY29sb3JcIlxuICAgICAgICAgICAgdmFsdWU9e2RyYXdpbmdDb2xvcn1cbiAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0RHJhd2luZ0NvbG9yKGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMTAgaC04IHJvdW5kZWQgYm9yZGVyIGJvcmRlci1ncmF5LTYwMCBiZy10cmFuc3BhcmVudFwiXG4gICAgICAgICAgLz5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTJcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlblwiPlxuICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmF5LTMwMFwiPlxuICAgICAgICAgICAgICB7ZHJhd2luZ1Rvb2wgPT09IFwidGV4dFwiID8gXCJGb250IFNpemVcIiA6IFwiVGhpY2tuZXNzXCJ9XG4gICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNDAwXCI+XG4gICAgICAgICAgICAgIHtkcmF3aW5nVG9vbCA9PT0gXCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICA/IGAke2RyYXdpbmdUaGlja25lc3MgKiAxMH1weGBcbiAgICAgICAgICAgICAgICA6IGAke2RyYXdpbmdUaGlja25lc3N9cHhgfVxuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgdHlwZT1cInJhbmdlXCJcbiAgICAgICAgICAgIG1pbj1cIjFcIlxuICAgICAgICAgICAgbWF4PXtkcmF3aW5nVG9vbCA9PT0gXCJ0ZXh0XCIgPyBcIjVcIiA6IFwiMjBcIn1cbiAgICAgICAgICAgIHZhbHVlPXtkcmF3aW5nVGhpY2tuZXNzfVxuICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXREcmF3aW5nVGhpY2tuZXNzKHBhcnNlSW50KGUudGFyZ2V0LnZhbHVlKSl9XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgaC0xIGJnLWdyYXktNjAwIHJvdW5kZWQtbGcgYXBwZWFyYW5jZS1ub25lIGN1cnNvci1wb2ludGVyIHNsaWRlclwiXG4gICAgICAgICAgLz5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAge2RyYXdpbmdUb29sID09PSBcInRleHRcIiAmJiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTJcIj5cbiAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS0zMDBcIj5EZWZhdWx0IFRleHQ8L2xhYmVsPlxuICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgdmFsdWU9e2RyYXdpbmdUZXh0fVxuICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldERyYXdpbmdUZXh0KGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHB4LTMgcHktMiBiZy1ncmF5LTgwMCBib3JkZXIgYm9yZGVyLWdyYXktNjAwIHJvdW5kZWQgdGV4dC13aGl0ZSB0ZXh0LXNtIGZvY3VzOmJvcmRlci1ibHVlLTQwMCBmb2N1czpvdXRsaW5lLW5vbmVcIlxuICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkVudGVyIGRlZmF1bHQgdGV4dFwiXG4gICAgICAgICAgICAvPlxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNTAwXCI+XG4gICAgICAgICAgICAgIENsaWNrIG9uIHRoZSBpbWFnZSB0byBwbGFjZSB0ZXh0ICh5b3UgY2FuIGVkaXQgaXQgd2hlbiBjbGlja2luZylcbiAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cblxuICAgICAgICB7ZHJhd25TaGFwZXMubGVuZ3RoID4gMCAmJiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS00MDAgYmctZ3JheS04MDAgcm91bmRlZCBwLTJcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuXCI+XG4gICAgICAgICAgICAgIDxzcGFuPntkcmF3blNoYXBlcy5sZW5ndGh9IHNoYXBlKHMpIGRyYXduPC9zcGFuPlxuICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgb25DbGljaz17Y2xlYXJDYW52YXN9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidGV4dC1yZWQtNDAwIGhvdmVyOnRleHQtcmVkLTMwMCB0ZXh0LXhzIHVuZGVybGluZVwiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICBDbGVhciBBbGxcbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktMlwiPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgb25DbGljaz17YXBwbHlEcmF3aW5nfVxuICAgICAgICAgIGRpc2FibGVkPXtwcm9jZXNzaW5nIHx8IGRyYXduU2hhcGVzLmxlbmd0aCA9PT0gMH1cbiAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgcHktMiBiZy1ibHVlLTYwMCB0ZXh0LXdoaXRlIHJvdW5kZWQtbGcgaG92ZXI6YmctYmx1ZS01MDAgZGlzYWJsZWQ6YmctZ3JheS02MDAgZm9udC1tZWRpdW0gdGV4dC1zbVwiXG4gICAgICAgID5cbiAgICAgICAgICB7cHJvY2Vzc2luZ1xuICAgICAgICAgICAgPyBcIkFwcGx5aW5nIERyYXdpbmcuLi5cIlxuICAgICAgICAgICAgOiBgQXBwbHkgRHJhd2luZyAoJHtkcmF3blNoYXBlcy5sZW5ndGh9IHNoYXBlcylgfVxuICAgICAgICA8L2J1dHRvbj5cblxuICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS01MDAgdGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICB7ZHJhd2luZ1Rvb2wgPT09IFwidGV4dFwiXG4gICAgICAgICAgICA/IFwiQ2xpY2sgb24gaW1hZ2UgdG8gcGxhY2UgdGV4dFwiXG4gICAgICAgICAgICA6IGRyYXdpbmdUb29sID09PSBcInNlbGVjdFwiXG4gICAgICAgICAgICA/IFwiQ2xpY2sgb24gcmVjdGFuZ2xlLCBjaXJjbGUsIG9yIHRleHQgdG8gc2VsZWN0IGFuZCBtb3ZlXCJcbiAgICAgICAgICAgIDogXCJDbGljayBhbmQgZHJhZyBvbiBpbWFnZSB0byBkcmF3IHNoYXBlc1wifVxuICAgICAgICA8L3A+XG4gICAgICAgIHtkcmF3aW5nVG9vbCA9PT0gXCJzZWxlY3RcIiAmJiBzZWxlY3RlZFNoYXBlSW5kZXggIT09IG51bGwgJiYgKFxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmVlbi00MDAgdGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICAgIFNoYXBlIHNlbGVjdGVkISBEcmFnIHRvIG1vdmUgaXQgYXJvdW5kXG4gICAgICAgICAgPC9wPlxuICAgICAgICApfVxuICAgICAgICB7ZHJhd25TaGFwZXMubGVuZ3RoID4gMCAmJiAoXG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWJsdWUtNDAwIHRleHQtY2VudGVyXCI+XG4gICAgICAgICAgICBXaGVuIGFwcGxpZWQsIHlvdSdsbCBoYXZlIHRoZSBvcHRpb24gdG8gdXBkYXRlIHRoZSBvcmlnaW5hbCBvclxuICAgICAgICAgICAgY3JlYXRlIGEgY29weVxuICAgICAgICAgIDwvcD5cbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufVxuIl0sIm5hbWVzIjpbInVzZVN0YXRlIiwidXNlUmVmIiwidXNlRWZmZWN0IiwiYXhpb3MiLCJEcmF3aW5nVG9vbHMiLCJpbWFnZSIsIm9uUHJvY2Vzc2VkIiwib25DbG9zZSIsInByb2Nlc3NpbmciLCJzZXRQcm9jZXNzaW5nIiwiZHJhd2luZ1Rvb2wiLCJzZXREcmF3aW5nVG9vbCIsImRyYXdpbmdDb2xvciIsInNldERyYXdpbmdDb2xvciIsImRyYXdpbmdUaGlja25lc3MiLCJzZXREcmF3aW5nVGhpY2tuZXNzIiwiZHJhd2luZ1RleHQiLCJzZXREcmF3aW5nVGV4dCIsImlzRHJhd2luZyIsInNldElzRHJhd2luZyIsInN0YXJ0UG9pbnQiLCJzZXRTdGFydFBvaW50IiwiY3VycmVudFBvaW50Iiwic2V0Q3VycmVudFBvaW50IiwiZHJhd25TaGFwZXMiLCJzZXREcmF3blNoYXBlcyIsInNob3dNb2RhbCIsInNldFNob3dNb2RhbCIsInNlbGVjdGVkU2hhcGVJbmRleCIsInNldFNlbGVjdGVkU2hhcGVJbmRleCIsImlzTW92aW5nIiwic2V0SXNNb3ZpbmciLCJpc1Jlc2l6aW5nIiwic2V0SXNSZXNpemluZyIsInJlc2l6ZUhhbmRsZSIsInNldFJlc2l6ZUhhbmRsZSIsIm1vdmVPZmZzZXQiLCJzZXRNb3ZlT2Zmc2V0IiwieCIsInkiLCJjYW52YXNSZWYiLCJpbWFnZVJlZiIsIm1vZGUiLCJzZXRNb2RlIiwiZ2V0Q2FudmFzQ29vcmRpbmF0ZXMiLCJlIiwiY2FudmFzIiwiY3VycmVudCIsInJlY3QiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJzY2FsZVgiLCJ3aWR0aCIsInNjYWxlWSIsImhlaWdodCIsIk1hdGgiLCJyb3VuZCIsImNsaWVudFgiLCJsZWZ0IiwiY2xpZW50WSIsInRvcCIsImlzUG9pbnRJblJlY3RhbmdsZSIsInBvaW50Iiwic2hhcGUiLCJtaW5YIiwibWluIiwic3RhcnRYIiwiZW5kWCIsIm1heFgiLCJtYXgiLCJtaW5ZIiwic3RhcnRZIiwiZW5kWSIsIm1heFkiLCJpc1BvaW50SW5DaXJjbGUiLCJyYWRpdXMiLCJzcXJ0IiwicG93IiwiZGlzdGFuY2UiLCJpc1BvaW50TmVhclRleHQiLCJ0ZXh0V2lkdGgiLCJ0aGlja25lc3MiLCJ0ZXh0IiwibGVuZ3RoIiwidGV4dEhlaWdodCIsImZpbmRTaGFwZUF0UG9pbnQiLCJpIiwidHlwZSIsImhhbmRsZVN0YXJ0IiwicHJldmVudERlZmF1bHQiLCJjb29yZHMiLCJ0b3VjaGVzIiwic2hhcGVJbmRleCIsInByb21wdCIsIm5ld1NoYXBlIiwiY29sb3IiLCJwcmV2IiwiZHJhd09uQ2FudmFzIiwiaGFuZGxlTW92ZSIsIm5ld1giLCJuZXdZIiwiZGVsdGFYIiwiZGVsdGFZIiwidXBkYXRlZFNoYXBlcyIsImhhbmRsZUVuZCIsImN0eCIsImdldENvbnRleHQiLCJjbGVhclJlY3QiLCJmb3JFYWNoIiwiaW5kZXgiLCJpc1NlbGVjdGVkIiwic3Ryb2tlU3R5bGUiLCJsaW5lV2lkdGgiLCJmaWxsU3R5bGUiLCJiZWdpblBhdGgiLCJtb3ZlVG8iLCJsaW5lVG8iLCJzdHJva2UiLCJzdHJva2VSZWN0Iiwic2F2ZSIsInNldExpbmVEYXNoIiwicmVzdG9yZSIsImFyYyIsIlBJIiwiZmlsbCIsImZvbnQiLCJmaWxsVGV4dCIsImltZyIsIm5hdHVyYWxXaWR0aCIsIm5hdHVyYWxIZWlnaHQiLCJzaG93Q29uZmlybWF0aW9uTW9kYWwiLCJhbGVydCIsImhhbmRsZUFwcGx5RHJhd2luZyIsImNyZWF0ZUNvcHkiLCJ0b2tlbiIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJjb25zb2xlIiwibG9nIiwic3Vic3RyaW5nIiwiaGV4VG9SZ2IiLCJoZXgiLCJyZXN1bHQiLCJleGVjIiwiciIsInBhcnNlSW50IiwiZyIsImIiLCJwYXJhbXMiLCJVUkxTZWFyY2hQYXJhbXMiLCJzaGFwZV90eXBlIiwiY29sb3JfciIsInRvU3RyaW5nIiwiY29sb3JfZyIsImNvbG9yX2IiLCJjcmVhdGVfY29weSIsImFwcGVuZCIsImRlbGV0ZSIsImNyZWF0ZUNvcHlWYWx1ZSIsImFwaVVybCIsImlkIiwidW5kZWZpbmVkIiwiRXJyb3IiLCJyZXNwb25zZSIsInBvc3QiLCJoZWFkZXJzIiwiQXV0aG9yaXphdGlvbiIsImRhdGEiLCJlcnJvciIsInN0YXR1cyIsImNvbmZpcm0iLCJ3aW5kb3ciLCJsb2NhdGlvbiIsInJlbG9hZCIsImFjdGlvblR5cGUiLCJsYXRlc3RJbWFnZXNSZXNwb25zZSIsImdldCIsIm5ld0ltYWdlRGF0YSIsInN1Y2Nlc3MiLCJzaGFwZXNDb3VudCIsIm9yaWdpbmFsSW1hZ2UiLCJuZXdJbWFnZSIsIm1lc3NhZ2UiLCJzaG91bGRSZWZyZXNoR2FsbGVyeSIsImVycm9yTWVzc2FnZSIsImRldGFpbCIsImFwcGx5RHJhd2luZyIsImNsZWFyQ2FudmFzIiwiZGl2IiwiY2xhc3NOYW1lIiwiaDMiLCJwIiwiYnV0dG9uIiwib25DbGljayIsImRpc2FibGVkIiwiaDQiLCJzcGFuIiwicmVmIiwic3JjIiwiZmlsZW5hbWUiLCJhbHQiLCJvcmlnaW5hbF9maWxlbmFtZSIsIm9uTG9hZCIsIm9uTW91c2VEb3duIiwib25Nb3VzZU1vdmUiLCJvbk1vdXNlVXAiLCJvbk1vdXNlTGVhdmUiLCJvblRvdWNoU3RhcnQiLCJvblRvdWNoTW92ZSIsIm9uVG91Y2hFbmQiLCJzdHlsZSIsInRvdWNoQWN0aW9uIiwidmFsdWUiLCJsYWJlbCIsImljb24iLCJtYXAiLCJ0b29sIiwiaW5wdXQiLCJvbkNoYW5nZSIsInRhcmdldCIsInBsYWNlaG9sZGVyIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./components/DrawingTools.js\n"));

/***/ })

});